import{a as I,g as K,_ as C,V as W,c as _,W as L,u as S,b as $,B as F}from"./WordWritingSelect-DjvD8_58.js";import{q as N,p as T}from"./reviews-BjQG9Nhh.js";import{d as V,c as k,q as B,I as q,a as g,e as t,b as j,z as E,u as r,C as z,w as D,i as c,F as M,h as O,t as R,g as h,l as U,o as n,_ as b}from"./index-sZE7bAWT.js";const A={class:"vocabulary-word"},G={class:"word",lang:"ja"},H={class:"meaning"},J={class:"extra"},P={class:"additional-meanings"},Q={class:"actions"},X=V({__name:"VocabularyWord",props:{word:{},kanji:{default:null},hideKanji:{type:Boolean,default:!1},hideReading:{type:Boolean,default:!1},hideMeaning:{type:Boolean,default:!1},sentenceIndex:{default:null}},setup(f){const a=f,l=k(()=>{const{kanji:e,word:i}=a;return i.meanings?e?i.meanings.filter(s=>s.info&&s.info.startsWith("esp. ")&&N.test(s.info)?s.info.includes(e):s.useWithWriting?s.useWithWriting.some(u=>u.includes(e)):!0):i.meanings:[]}),m=I(()=>a.word,{kanji:()=>a.kanji,forceReading:()=>a.hideKanji}),d=k(()=>l.value.at(0)),o=B(null),p=k(()=>l.value.slice(1)),v=B(!1),w=k(()=>a.sentenceIndex?T(a.sentenceIndex,K(e=>e.meaning,e=>e.sentence)):null);return q(()=>a.word.id,(e,i)=>{e!==i&&(o.value=null)}),(e,i)=>{const s=E("RouterLink");return n(),g("div",A,[t("p",G,[j(s,{to:r(z)(e.word.id),class:"word-link"},{default:D(()=>[typeof o.value=="string"?(n(),g(M,{key:0},[O(R(o.value),1)],64)):(n(),c(C,{key:1,furigana:o.value||r(m),"hide-kanji":e.hideKanji,"hide-reading":e.hideReading,kanji:e.kanji},null,8,["furigana","hide-kanji","hide-reading","kanji"]))]),_:1},8,["to"])]),t("div",H,[d.value&&!e.hideMeaning?(n(),c(W,{key:0,meaning:d.value},null,8,["meaning"])):h("",!0)]),t("div",J,[j(_,{"sentence-ids":w.value?.get(1),kanji:e.kanji,"hide-kanji":e.hideKanji,"hide-reading":e.hideReading,"hide-meaning":e.hideMeaning},null,8,["sentence-ids","kanji","hide-kanji","hide-reading","hide-meaning"]),p.value.length>0?(n(),g("details",{key:0,class:"additional-meanings-details",onToggle:i[0]||(i[0]=u=>v.value=!0)},[t("summary",null,R(p.value.length)+" more",1),t("ul",P,[(n(!0),g(M,null,U(p.value,(u,y)=>(n(),g("li",{key:y,class:"additional-meaning-item"},[e.hideMeaning?h("",!0):(n(),c(W,{key:0,meaning:u},null,8,["meaning"])),v.value?(n(),c(_,{key:1,"sentence-ids":w.value?.get(y+2),kanji:e.kanji,"hide-kanji":e.hideKanji,"hide-reading":e.hideReading,"hide-meaning":e.hideMeaning},null,8,["sentence-ids","kanji","hide-kanji","hide-reading","hide-meaning"])):h("",!0)]))),128))])],32)):h("",!0)]),t("div",Q,[!e.hideKanji&&!e.hideReading?(n(),c(L,{key:0,modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=u=>o.value=u),word:e.word,"default-furigana":r(m)},null,8,["modelValue","word","default-furigana"])):h("",!0)])])}}}),Y=b(X,[["__scopeId","data-v-8bcd3821"]]),Z={class:"word-list-item"},x={class:"bullet"},ee=V({__name:"WordListItem",props:{word:{},kanji:{},hideKanji:{type:Boolean},hideReading:{type:Boolean},hideMeaning:{type:Boolean}},setup(f){const a=f,l=S(()=>a.word),m=$(()=>a.word);return(d,o)=>(n(),g("article",Z,[t("aside",x,[j(F,{"word-id":d.word,reading:r(l)?.readings?.at(0)?.text,class:"bookmark-button"},null,8,["word-id","reading"])]),r(l)?(n(),c(Y,{key:0,word:r(l),kanji:d.kanji,"hide-kanji":d.hideKanji,"hide-reading":d.hideReading,"hide-meaning":d.hideMeaning,"sentence-index":r(m),class:"word-section"},null,8,["word","kanji","hide-kanji","hide-reading","hide-meaning","sentence-index"])):h("",!0)]))}}),de=b(ee,[["__scopeId","data-v-d852781e"]]);export{de as W};
//# sourceMappingURL=WordListItem-9iMVk-v2.js.map
