import{d as b,c as v,C as S,i as $,w as h,e as o,a as t,g as p,t as k,y as V,p as A,o as n,_ as R,F as m,l as w,b as u,q as D,n as L,u as c,z as B,x as _,h as y,D as E,E as N}from"./index-sZE7bAWT.js";import{S as T,f as G,C as I,A as H}from"./CardRetrievabilityLabel-BgFlRhxu.js";import{d as P}from"./decks-BkI394ym.js";import{a as q}from"./fsrs-BAHU2VgB.js";import{u as F}from"./formats-B8hr5_5_.js";import{u as M}from"./kana-RsG-lPzR.js";const W={class:"kana",lang:"ja"},z={key:0,class:"romaji"},O=b({__name:"KanaVocabularyWord",props:{word:{},hideRomaji:{type:Boolean},hideKana:{type:Boolean},targetKana:{}},setup(g){const a=g,e=v(()=>{if(!a.hideKana||!a.targetKana)return a.word.kana;const r=[...a.targetKana].length,l="◌".repeat(r);return a.word.kana.replaceAll(a.targetKana,l)}),s=new Intl.Collator("en",{usage:"search",sensitivity:"base"}),i=v(()=>{if(!a.hideRomaji)return!1;const{en:r,romaji:l}=a.word;return s.compare(r.slice(0,l.length),l)===0}),d=v(()=>a.word.wordId?S(a.word.wordId):null);return(r,l)=>(n(),$(A(d.value?"RouterLink":"div"),{to:d.value,class:"kana-vocabulary-word"},{default:h(()=>[o("p",W,k(e.value),1),r.hideRomaji?p("",!0):(n(),t("p",z,k(r.word.romaji),1)),o("p",{class:V(["translation",{blur:i.value}])},k(r.word.en),3)]),_:1},8,["to"]))}}),U=R(O,[["__scopeId","data-v-5e73625e"]]),Y={class:"vocab-list"},J=b({__name:"KanaExamples",props:{vocab:{},hideRomaji:{type:Boolean},hideKana:{type:Boolean},targetKana:{}},setup(g){return(a,e)=>(n(),t("section",null,[e[0]||(e[0]=o("h2",null,"Examples",-1)),o("ul",Y,[(n(!0),t(m,null,w(a.vocab,s=>(n(),t("li",{key:s.wordId||s.kana},[u(U,{class:"example-word",word:s,"hide-romaji":a.hideRomaji,"hide-kana":a.hideKana,"target-kana":a.targetKana},null,8,["word","hide-romaji","hide-kana","target-kana"])]))),128))])]))}}),ya=R(J,[["__scopeId","data-v-c4c44eda"]]),_a=b({__name:"KanaStrokes",props:{kana:{},autoHint:{type:Boolean},practiceMode:{type:Boolean}},emits:["practiceDone"],setup(g){const a=g,e=D(!0),s=L(()=>Promise.all([...a.kana].map(r=>{const l=r.codePointAt(0)?.toString(16).padStart(5,"0");return l?G(l):{strokes:null,rect:null}})),[],{evaluating:e}),i=v(()=>{const r=[];for(const l of s.value){const f=[];for(const j of l.strokes?.querySelectorAll("path")??[]){const C=j.getAttribute("d");C&&f.push(C)}r.push(f)}return r}),d=v(()=>{const{x:r=0,y:l=0,width:f=109,height:j=109}=s.value.at(0)?.rect??{};return`${r},${l},${f},${j}`});return(r,l)=>(n(),t("section",null,[l[1]||(l[1]=o("h2",null,"Strokes",-1)),i.value&&!e.value?(n(),$(T,{key:0,"view-box":d.value,"char-strokes":i.value,"practice-mode":r.practiceMode,"auto-hint":r.autoHint,onPracticeDone:l[0]||(l[0]=f=>r.$emit("practiceDone"))},null,8,["view-box","char-strokes","practice-mode","auto-hint"])):p("",!0)]))}}),Q={key:0,class:"kana-reading"},K=b({__name:"KanaReading",props:{literal:{}},setup(g){const a=g,e=M(()=>a.literal);return(s,i)=>c(e)?.reading?(n(),t("span",Q,k(c(e)?.reading),1)):p("",!0)}}),X={class:"kana-related"},Z={class:"related-dl"},x={class:"reading base-reading"},aa={key:0},ea={key:1,class:"dd-items"},na={class:"dd-items"},ta=b({__name:"KanaRelated",props:{kana:{}},setup(g){return(a,e)=>{const s=B("RouterLink");return n(),t("aside",X,[o("dl",Z,[e[6]||(e[6]=o("dt",null,"Reading",-1)),o("dd",null,[o("strong",x,k(a.kana.reading),1)]),a.kana.base?(n(),t(m,{key:0},[e[0]||(e[0]=o("dt",null,"Base",-1)),typeof a.kana.base=="string"?(n(),t("dd",aa,[u(s,{to:c(_)(a.kana.base)},{default:h(()=>[y(k(a.kana.base)+" ",1),u(K,{class:"reading",literal:a.kana.base},null,8,["literal"])]),_:1},8,["to"])])):(n(),t("div",ea,[(n(!0),t(m,null,w(a.kana.base,i=>(n(),t("dd",{key:i},[u(s,{to:c(_)(i)},{default:h(()=>[y(k(i)+" ",1),u(K,{class:"reading",literal:i},null,8,["literal"])]),_:2},1032,["to"])]))),128))]))],64)):p("",!0),a.kana.dakuten?(n(),t(m,{key:1},[e[1]||(e[1]=o("dt",null,"Dakuten",-1)),o("dd",null,[u(s,{to:c(_)(a.kana.dakuten)},{default:h(()=>[y(k(a.kana.dakuten)+" ",1),u(K,{class:"reading",literal:a.kana.dakuten},null,8,["literal"])]),_:1},8,["to"])])],64)):p("",!0),a.kana.handakuten?(n(),t(m,{key:2},[e[2]||(e[2]=o("dt",null,"Handakuten",-1)),o("dd",null,[u(s,{to:c(_)(a.kana.handakuten)},{default:h(()=>[y(k(a.kana.handakuten)+" ",1),u(K,{class:"reading",literal:a.kana.handakuten},null,8,["literal"])]),_:1},8,["to"])])],64)):p("",!0),a.kana.youon?(n(),t(m,{key:3},[e[3]||(e[3]=o("dt",null,"Yōon",-1)),o("div",na,[(n(!0),t(m,null,w(a.kana.youon,i=>(n(),t("dd",{key:i},[u(s,{to:c(_)(i)},{default:h(()=>[y(k(i)+" ",1),u(K,{class:"reading",literal:i},null,8,["literal"])]),_:2},1032,["to"])]))),128))])],64)):p("",!0),a.kana.hiragana?(n(),t(m,{key:4},[e[4]||(e[4]=o("dt",null,"Hiragana",-1)),o("dd",null,[u(s,{to:c(_)(a.kana.hiragana)},{default:h(()=>[y(k(a.kana.hiragana),1)]),_:1},8,["to"])])],64)):a.kana.katakana?(n(),t(m,{key:5},[e[5]||(e[5]=o("dt",null,"Katakana",-1)),o("dd",null,[u(s,{to:c(_)(a.kana.katakana)},{default:h(()=>[y(k(a.kana.katakana),1)]),_:1},8,["to"])])],64)):p("",!0)])])}}}),oa=R(ta,[["__scopeId","data-v-a96e9a6c"]]),sa={class:"kana-title"},ra={class:"literal"},la={key:0,lang:"ja"},ia={key:0,class:"base-reading"},da={class:"labels"},ua={key:1,class:"actions"},ka=b({__name:"KanaTitle",props:{kana:{},kanaInfo:{},hideKana:{type:Boolean},hideRomaji:{type:Boolean},actions:{default:"explore"}},setup(g){const a=g,e=v(()=>{const{kana:d}=a;return d.codePointAt(d.length===2?1:0)}),s=F(e),i=q(e,["kana-write","kana-read"]);return(d,r)=>{const l=B("RouterLink");return n(),t("header",sa,[o("h2",ra,[d.hideKana?p("",!0):(n(),t("span",la,k(d.kana),1))]),d.hideRomaji?p("",!0):(n(),t("strong",ia,k(d.kanaInfo?.reading),1)),o("aside",da,[(n(!0),t(m,null,w(c(s),f=>(n(),$(H,{key:f.name,class:"deck-label"},{default:h(()=>[u(l,{to:{name:c(N),query:{deck:f.name}}},{default:h(()=>[y(k(c(P)(f)),1)]),_:2},1032,["to"])]),_:2},1024))),128)),u(I,{r:c(i).get("kana-write"),label:"書"},null,8,["r"]),u(I,{r:c(i).get("kana-read"),label:"読"},null,8,["r"])]),d.$slots.actions?(n(),t("nav",ua,[E(d.$slots,"actions",{},void 0,!0)])):p("",!0),d.kanaInfo?(n(),$(oa,{key:2,kana:d.kanaInfo,class:"related","data-blur":d.hideKana||d.hideRomaji?!0:null},null,8,["kana","data-blur"])):p("",!0)])}}}),va=R(ka,[["__scopeId","data-v-7366cf62"]]);export{va as K,_a as _,ya as a};
//# sourceMappingURL=KanaTitle-DQEf728K.js.map
