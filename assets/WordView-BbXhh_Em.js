import{d as g,u as o,c as a,b as l,t as m,F as k,h as j,e as c,o as n,f as p,_ as v,g as h,j as I,w as W,a as y,k as $,l as V,m as L,i as f,p as b}from"./index-uL2dLKam.js";import{e as S,d as x,u as B,i as K,c as F,b as N,_ as C,B as R,W as z,V as Y}from"./WordWritingSelect-R_mn7F66.js";import"./db-ywXYyXbd.js";import"./AppButton-niJYO7_s.js";const A={key:0},D={class:"title"},E={class:"sentence-list"},M={class:"sentence-item"},O=g({__name:"WordSentencesList",props:{wordId:{}},setup(_){const u=_,t=S(()=>u.wordId);return(s,r)=>o(t).length>0?(n(),a("section",A,[l("h3",D,"Sentences ("+m(o(t).length)+")",1),l("ul",E,[(n(!0),a(k,null,j(o(t),e=>(n(),a("li",M,[p(x,{"sentence-id":e},null,8,["sentence-id"])]))),256))])])):c("",!0)}}),T=v(O,[["__scopeId","data-v-835b3cc2"]]),U={class:"kanji-info"},q={class:"meaning"},G={key:0},H={key:1,lang:"ja"},J=g({__name:"WordKanjiListItem",props:{kanji:{}},setup(_){const u=_,t=B(()=>u.kanji.charCodeAt(0)),s=h(()=>{if(!t.value)return null;const{kunYomi:e,onYomi:d}=t.value;return e.find(i=>!/[.-]/.test(i))??e.at(0)??d.at(0)}),r=h(()=>{var e;return(e=t.value)==null?void 0:e.meanings.at(0)});return(e,d)=>{const i=I("RouterLink");return n(),a("div",U,[p(i,{to:o($)(e.kanji),class:"literal"},{default:W(()=>[y(m(e.kanji),1)]),_:1},8,["to"]),l("p",q,[r.value?(n(),a("strong",G,m(r.value),1)):c("",!0),s.value?(n(),a("span",H," ("+m(s.value)+")",1)):c("",!0)])])}}}),P=v(J,[["__scopeId","data-v-8462da3f"]]),Q={key:0},X={class:"kanji-list"},Z=g({__name:"WordKanjiList",props:{word:{}},setup(_){const u=_,t=h(()=>{const s=new Set;if(!u.word.writings)return s;for(const r of u.word.writings)if(!(r.irregular||r.outdated||r.searchOnly))for(const e of r.text)K(e)&&s.add(e);return s});return(s,r)=>t.value.size>0?(n(),a("section",Q,[l("h3",null,"Kanji ("+m(t.value.size)+")",1),l("ul",X,[(n(!0),a(k,null,j(t.value,e=>(n(),a("li",null,[p(P,{kanji:e},null,8,["kanji"])]))),256))])])):c("",!0)}}),ee=v(Z,[["__scopeId","data-v-f31b9240"]]),te={key:0,class:"world-view-article"},ne={class:"header"},se={class:"title"},ae={class:"actions"},oe={key:0,class:"section"},re={class:"meaning-list"},ie=g({__name:"WordView",setup(_){const u=b(),t=h(()=>{const d=u.params.wordId;if(typeof d!="string")return null;const i=Number.parseInt(d);return Number.isFinite(i)?i:null}),s=F(t),r=N(s),e=V(null);return L(t,(d,i)=>{d!==i&&(e.value=null)}),(d,i)=>o(s)?(n(),a("article",te,[l("header",ne,[l("h2",se,[typeof e.value=="string"?(n(),a(k,{key:0},[y(m(e.value),1)],64)):(n(),f(C,{key:1,furigana:e.value||o(r),"link-kanji":""},null,8,["furigana"]))]),l("div",ae,[t.value?(n(),f(R,{key:0,wordId:t.value},null,8,["wordId"])):c("",!0),p(z,{modelValue:e.value,"onUpdate:modelValue":i[0]||(i[0]=w=>e.value=w),word:o(s),default:o(r),class:"section"},null,8,["modelValue","word","default"])])]),o(s).meanings&&o(s).meanings.length>0?(n(),a("section",oe,[l("ul",re,[(n(!0),a(k,null,j(o(s).meanings,w=>(n(),a("li",null,[p(Y,{meaning:w},null,8,["meaning"])]))),256))])])):c("",!0),o(s)?(n(),f(ee,{key:1,word:o(s),class:"section"},null,8,["word"])):c("",!0),t.value?(n(),f(T,{key:2,"word-id":t.value,class:"section"},null,8,["word-id"])):c("",!0)])):c("",!0)}}),_e=v(ie,[["__scopeId","data-v-ed01e31f"]]);export{_e as default};
