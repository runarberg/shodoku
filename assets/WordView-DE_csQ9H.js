import{d as b,c as d,a as o,g,e as c,t as j,F as f,l as x,b as u,o as t,_ as B,s as F,q as M,I as N,u as r,i as W,h as S}from"./index-BwH_6V5R.js";import{d as K,p as L}from"./reviews-ZTc-DdEf.js";import{u as $,a as z,b as C,g as O,_ as q,B as D,W as E,V,c as I}from"./WordWritingSelect-BFSJbFJ-.js";import{W as R}from"./WordKanjiListItem-tj8hpQSB.js";import"./db-CQLy7j3d.js";import"./fsrs-C4FfuluP.js";import"./kanji-BVIjWPmF.js";const T={key:0},U={class:"kanji-list"},A=b({__name:"WordKanjiList",props:{word:{}},setup(p){const m=p,l=d(()=>{const e=new Set;if(!m.word.writings)return e;for(const i of m.word.writings)if(!(i.irregular||i.outdated||i.searchOnly))for(const n of i.text)K(n)&&e.add(n);return e});return(e,i)=>l.value.size>0?(t(),o("section",T,[c("h3",null,"Kanji ("+j(l.value.size)+")",1),c("ul",U,[(t(!0),o(f,null,x(l.value,n=>(t(),o("li",{key:n},[u(R,{kanji:n},null,8,["kanji"])]))),128))])])):g("",!0)}}),G=B(A,[["__scopeId","data-v-369edbb2"]]),H={key:0,class:"world-view-article"},J={class:"header"},P={class:"title"},Q={class:"actions"},X={key:0,class:"section"},Y={key:2,class:"section"},Z={class:"meaning-list"},ee=b({__name:"WordView",setup(p){const m=F(),l=d(()=>{const a=m.params.wordId;if(typeof a!="string")return null;const s=Number.parseInt(a);return Number.isFinite(s)?s:null}),e=$(l),i=z(e),n=M(null),v=d(()=>e.value?.meanings?.at(0)),w=d(()=>e.value?.meanings?.slice(1)),k=C(l),h=d(()=>k.value?L(k.value,O(a=>a.meaning,a=>a.sentence)):null);return N(l,(a,s)=>{a!==s&&(n.value=null)}),(a,s)=>r(e)?(t(),o("article",H,[c("header",J,[c("h2",P,[typeof n.value=="string"?(t(),o(f,{key:0},[S(j(n.value),1)],64)):(t(),W(q,{key:1,furigana:n.value||r(i),"link-kanji":""},null,8,["furigana"]))]),c("div",Q,[u(D,{"word-id":r(e).id,reading:r(e).readings?.at(0)?.text},null,8,["word-id","reading"]),u(E,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=_=>n.value=_),word:r(e),"default-furigana":r(i),class:"section"},null,8,["modelValue","word","default-furigana"])])]),v.value?(t(),o("div",X,[u(V,{meaning:v.value},null,8,["meaning"]),u(I,{"sentence-ids":h.value?.get(1)},null,8,["sentence-ids"])])):g("",!0),r(e)?(t(),W(G,{key:1,word:r(e),class:"section"},null,8,["word"])):g("",!0),w.value&&w.value.length>0?(t(),o("section",Y,[s[1]||(s[1]=c("h3",null,"Other Meanings",-1)),c("ul",Z,[(t(!0),o(f,null,x(r(e).meanings,(_,y)=>(t(),o("li",{key:y},[u(V,{meaning:_},null,8,["meaning"]),u(I,{"sentence-ids":h.value?.get(y+2)},null,8,["sentence-ids"])]))),128))])])):g("",!0)])):g("",!0)}}),le=B(ee,[["__scopeId","data-v-8b8facea"]]);export{le as default};
//# sourceMappingURL=WordView-DE_csQ9H.js.map
