import{d as V,a as v,e as t,K as R,aa as A,u as i,ab as h,ac as $,o as d,_ as k,O as X,P as C,s as W,ad as oe,ae as Y,N as Z,af as q,h as S,t as j,Q as O,b as a,i as _,ag as se,w as y,ah as ne,l as ee,F as G,A as U,I as le,c as ae,m as Q,g as ue,R as de}from"./index-Q4noPGif.js";import{v as M,n as F,r as P,k as I,e as T,P as H,w as x,x as B,y as E,z as D,A as L,B as N,C as z,D as re,E as ie}from"./reviews-DovQcjTA.js";import{a as w,c as me,A as K,b as pe}from"./AppTextArea-BhDoLf8H.js";import{A as fe}from"./AppLoading-utKUpW9L.js";import{_ as te}from"./RemoteSyncSyncButton.vue_vue_type_script_setup_true_lang-CIAlc2Nh.js";import"./db-BhNzgzsk.js";const ve={class:"fields"},ye={class:"color-mode-fieldset"},be={class:"fieldset-body"},ce=V({__name:"AppearanceSettings",setup(m){return(s,l)=>(d(),v("div",ve,[t("fieldset",ye,[l[6]||(l[6]=t("legend",null,"Color Mode",-1)),t("div",be,[t("label",null,[R(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>$(h)?h.value=e:null),type:"radio",name:"color-mode",value:"light dark"},null,512),[[A,i(h)]]),l[3]||(l[3]=t("span",{class:"label"},"System",-1))]),t("label",null,[R(t("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>$(h)?h.value=e:null),type:"radio",name:"color-mode",value:"light"},null,512),[[A,i(h)]]),l[4]||(l[4]=t("span",{class:"label"},"Light",-1))]),t("label",null,[R(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>$(h)?h.value=e:null),type:"radio",name:"color-mode",value:"dark"},null,512),[[A,i(h)]]),l[5]||(l[5]=t("span",{class:"label"},"Dark",-1))])])])]))}}),Se=k(ce,[["__scopeId","data-v-0530108e"]]),he=["id"],Ve=["for"],$e=V({inheritAttrs:!1,__name:"AppCheckbox",props:X({label:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const s=C(m,"modelValue"),l=Z();return(e,p)=>(d(),v("div",{class:W(["app-checkbox",[e.$attrs.class,e.$style.field]])},[R(t("input",Y({id:i(l),"onUpdate:modelValue":p[0]||(p[0]=r=>s.value=r)},{...e.$attrs,class:void 0},{class:[e.$style.input,"input"],type:"checkbox"}),null,16,he),[[oe,s.value]]),t("label",{for:i(l),class:W(e.$style.label)},[q(e.$slots,"label",{},()=>[S(j(e.label),1)])],10,Ve)],2))}}),ke="_field_18rpb_2",ge="_label_18rpb_8",Ce="_input_18rpb_12",Ue={field:ke,label:ge,input:Ce},Re={$style:Ue},_e=k($e,[["__cssModules",Re]]),we=V({__name:"PreferencesForm",setup(m){return(s,l)=>(d(),v("form",{class:"form-body",onSubmit:l[5]||(l[5]=O(()=>{},["prevent"]))},[a(w,{modelValue:i(M),"onUpdate:modelValue":l[0]||(l[0]=e=>$(M)?M.value=e:null),label:"Daily review limit",inline:""},null,8,["modelValue"]),a(w,{modelValue:i(F),"onUpdate:modelValue":l[1]||(l[1]=e=>$(F)?F.value=e:null),label:"Daily new limit",inline:""},null,8,["modelValue"]),a(_e,{modelValue:i(P),"onUpdate:modelValue":l[2]||(l[2]=e=>$(P)?P.value=e:null),label:"Fuzz review times"},null,8,["modelValue"]),t("fieldset",null,[l[6]||(l[6]=t("legend",null,[S("Consider Kanji "),t("em",null,"known"),S(" whenâ€¦")],-1)),a(w,{modelValue:i(I),"onUpdate:modelValue":l[3]||(l[3]=e=>$(I)?I.value=e:null),label:"Retention above (%)",min:"50",max:"100",inline:""},null,8,["modelValue"]),l[7]||(l[7]=t("span",{class:"and"},"and",-1)),a(w,{modelValue:i(T),"onUpdate:modelValue":l[4]||(l[4]=e=>$(T)?T.value=e:null),label:"Not due within (weeks)",min:"0",max:"52",inline:""},null,8,["modelValue"])])],32))}}),Ae=k(we,[["__scopeId","data-v-a532e5e4"]]),Me=["id"],Fe=V({__name:"AppSelect",props:X({label:{},inline:{type:Boolean},options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const s=C(m,"modelValue"),l=Z();return(e,p)=>(d(),_(me,{control:i(l),label:e.label,inline:e.inline},se({default:y(()=>[R(t("select",Y({id:i(l),"onUpdate:modelValue":p[0]||(p[0]=r=>s.value=r)},e.$attrs,{class:"select"}),[(d(!0),v(G,null,ee(e.options,r=>(d(),v("option",{key:r},j(r),1))),128))],16,Me),[[ne,s.value]])]),_:2},[e.$slots.label?{name:"label",fn:y(()=>[q(e.$slots,"label",{},void 0,!0)]),key:"0"}:void 0,e.$slots.info?{name:"info",fn:y(()=>[q(e.$slots,"info",{},void 0,!0)]),key:"1"}:void 0]),1032,["control","label","inline"]))}}),Pe=k(Fe,[["__scopeId","data-v-264045e7"]]),Ie={class:"header-list"},Te=V({__name:"RemoteSyncSettingsFormHeadersField",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(m){const s=C(m,"modelValue");function l(r,n){s.value=s.value.with(r,n)}function e(r){s.value=s.value.toSpliced(r,1)}function p(){s.value=[...s.value,["",""]]}return(r,n)=>(d(),v("fieldset",null,[n[2]||(n[2]=t("legend",null,"Headers",-1)),t("ul",Ie,[(d(!0),v(G,null,ee(s.value,([b,c],o)=>(d(),v("li",{key:o,class:"header-list-item"},[a(K,{"model-value":b,class:"key-field",label:"Key",onInput:u=>l(o,[u.target.value.toUpperCase(),c])},null,8,["model-value","onInput"]),a(K,{"model-value":c,class:"value-field",label:"Value",onInput:u=>l(o,[b,u.target.value])},null,8,["model-value","onInput"]),a(U,{type:"button",class:"remove-header-button",onClick:u=>e(o)},{default:y(()=>[a(le,{icon:"delete"})]),_:2},1032,["onClick"])]))),128))]),a(U,{class:"add-header-button",type:"button","prefix-icon":"plus",onClick:n[0]||(n[0]=b=>p())},{default:y(()=>n[1]||(n[1]=[S(" Add Header ")])),_:1,__:[1]})]))}}),He=k(Te,[["__scopeId","data-v-2cf9f77a"]]),xe={class:"remote-sync-settings-form-section"},Be=["textContent"],Ee=V({__name:"RemoteSyncSettingsFormSection",props:{method:{default:""},methodModifiers:{},url:{default:""},urlModifiers:{},headers:{default:[]},headersModifiers:{},body:{},bodyModifiers:{}},emits:["update:method","update:url","update:headers","update:body"],setup(m){const s=C(m,"method"),l=C(m,"url"),e=C(m,"headers"),p=C(m,"body"),r=["GET","POST","PATCH","PUT"],n=ae(()=>["POST","PATCH","PUT"].includes(s.value)),b=`{
  "name": "shodoku_sync.json",
  "content", "${H}"
}`,c=Q(!1);async function o(){c.value=!1,await navigator.clipboard.writeText(H),c.value=!0,setTimeout(()=>{c.value=!1},5e3)}return(u,f)=>(d(),v("div",xe,[a(Pe,{modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=g=>s.value=g),options:r,label:"method",class:"method-field"},null,8,["modelValue"]),a(K,{modelValue:l.value,"onUpdate:modelValue":f[1]||(f[1]=g=>l.value=g),type:"url",label:"URL",class:"url-field",required:""},null,8,["modelValue"]),a(He,{modelValue:e.value,"onUpdate:modelValue":f[2]||(f[2]=g=>e.value=g),class:"headers-field"},null,8,["modelValue"]),n.value?(d(),_(pe,{key:0,modelValue:p.value,"onUpdate:modelValue":f[3]||(f[3]=g=>p.value=g),label:"Body",class:"body-field",placeholder:b},{info:y(()=>[f[5]||(f[5]=S(" Use ")),t("code",{textContent:j(i(H))},null,8,Be),a(U,{inline:"",type:"button",onClick:o},{default:y(()=>[f[4]||(f[4]=t("span",{class:"text"},"Copy ",-1)),a(le,{icon:c.value?"checkmark":"copy"},null,8,["icon"])]),_:1,__:[4]}),f[6]||(f[6]=S(" to interpolate database sync instructions. "))]),_:1},8,["modelValue"])):ue("",!0)]))}}),J=k(Ee,[["__scopeId","data-v-ab858877"]]),De={class:"remote-sync-form-section"},Le={class:"remote-sync-form-section"},Ne={class:"form-buttons"},ze=V({__name:"RemoteSyncSettingsForm",emits:["cancel","success"],setup(m,{emit:s}){const l=s,e=de({fetch:{headers:z.value,method:N.value,url:L.value},push:{body:D.value,headers:E.value,method:B.value,url:x.value}}),p=Q(null);function r(){z.value=e.fetch.headers,N.value=e.fetch.method,L.value=e.fetch.url,D.value=e.push.body,E.value=e.push.headers,B.value=e.push.method,x.value=e.push.url}async function n(){await p.value?.sync(),l("success")}function b(){e.fetch.headers=z.value,e.fetch.method=N.value,e.fetch.url=L.value,e.push.body=D.value,e.push.headers=E.value,e.push.method=B.value,e.push.url=x.value}return(c,o)=>(d(),v("form",{onSubmit:O(n,["prevent"]),onReset:O(b,["prevent"])},[o[12]||(o[12]=t("p",null," Set the below values to a remote which serves your sync document. This remote can be a GitHub gist, a google drive file, or your own server. The only requirement is that you have to be able to upload and retrieve a text document. ",-1)),t("section",De,[o[9]||(o[9]=t("h3",null,"Fetch",-1)),a(J,{method:e.fetch.method,"onUpdate:method":o[0]||(o[0]=u=>e.fetch.method=u),url:e.fetch.url,"onUpdate:url":o[1]||(o[1]=u=>e.fetch.url=u),headers:e.fetch.headers,"onUpdate:headers":o[2]||(o[2]=u=>e.fetch.headers=u)},null,8,["method","url","headers"])]),t("section",Le,[o[10]||(o[10]=t("h3",null,"Push",-1)),a(J,{method:e.push.method,"onUpdate:method":o[3]||(o[3]=u=>e.push.method=u),url:e.push.url,"onUpdate:url":o[4]||(o[4]=u=>e.push.url=u),headers:e.push.headers,"onUpdate:headers":o[5]||(o[5]=u=>e.push.headers=u),body:e.push.body,"onUpdate:body":o[6]||(o[6]=u=>e.push.body=u)},null,8,["method","url","headers","body"])]),t("div",Ne,[a(U,{type:"reset",onClick:o[7]||(o[7]=u=>c.$emit("cancel"))},{default:y(()=>o[11]||(o[11]=[S(" Cancel ")])),_:1,__:[11]}),a(te,{ref_key:"syncButton",ref:p,filled:"",onSyncing:r,onSuccess:o[8]||(o[8]=u=>c.$emit("success"))},null,512)])],32))}}),qe=k(ze,[["__scopeId","data-v-e782c983"]]),Oe={key:2,class:"buttons"},Ke=V({__name:"RemoteSyncSettings",setup(m){const s=Q(!1),{loading:l,result:e}=re();function p(){s.value=!0}return(r,n)=>i(l)?(d(),_(fe,{key:0})):s.value?(d(),_(qe,{key:1,onCancel:n[0]||(n[0]=b=>s.value=!1),onSuccess:n[1]||(n[1]=b=>s.value=!1)})):(d(),v("div",Oe,[i(e)?(d(),v(G,{key:0},[a(te,{filled:""}),a(U,{"prefix-icon":"edit",onClick:n[2]||(n[2]=b=>s.value=!0)},{default:y(()=>n[3]||(n[3]=[S(" Configure Remote ")])),_:1,__:[3]}),a(U,{inline:"","prefix-icon":"delete",onClick:i(ie)},{default:y(()=>n[4]||(n[4]=[S(" Disable Remote Sync ")])),_:1,__:[4]},8,["onClick"])],64)):(d(),_(U,{key:1,filled:"",onClick:p},{default:y(()=>n[5]||(n[5]=[S(" Enable Remote Sync ")])),_:1,__:[5]}))]))}}),je=k(Ke,[["__scopeId","data-v-213e9023"]]),Ge={class:"settings-view"},el=V({__name:"SettingsView",setup(m){return(s,l)=>(d(),v("article",Ge,[t("section",null,[l[0]||(l[0]=t("h2",null,"Preferences",-1)),a(Ae)]),t("section",null,[l[1]||(l[1]=t("h2",null,"Appearance",-1)),a(Se)]),t("section",null,[l[2]||(l[2]=t("h2",null,"Remote Sync",-1)),a(je)])]))}});export{el as default};
