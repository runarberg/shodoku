import{d as _,m as p,y as E,a as r,e as u,g as m,I as R,h as j,F as v,t as f,l as w,u as c,b as C,o as l,_ as h,L as S,c as y,B as K,G as I,n as V}from"./index-CLUsYwP5.js";import{v as $}from"./index-BD3mXX1B.js";import{W as x}from"./WordKanjiListItem-DtTVVUYX.js";import{u as b}from"./radicals-CeomM8Ky.js";import"./index-ed5PeQn_.js";import"./kanji-Bdy0JbjC.js";const P={key:0,class:"component-list"},g=40,N=_({__name:"KanjiComponentKanjiList",props:{kanjiLiterals:{}},setup(o){const t=o,n=p(g);function s(){n.value+=g}function a([{isIntersecting:e}]){e&&s()}return E(()=>t.kanjiLiterals,(e,i)=>{e!==i&&(n.value=g)}),(e,i)=>(l(),r("section",null,[u("h2",null,[i[1]||(i[1]=j(" Found in Kanji ")),e.kanjiLiterals.length>0?(l(),r(v,{key:0},[j(" ("+f(e.kanjiLiterals.length)+")",1)],64)):m("",!0)]),e.kanjiLiterals.length>0?(l(),r("ul",P,[(l(!0),r(v,null,w(e.kanjiLiterals.slice(0,n.value),d=>(l(),r("li",{key:d},[C(x,{kanji:d},null,8,["kanji"])]))),128))])):m("",!0),n.value<e.kanjiLiterals.length?R((l(),r("button",{key:1,class:"next-page-button",onClick:i[0]||(i[0]=d=>s())},i[2]||(i[2]=[j(" Load More ")]))),[[c($),a]]):m("",!0)]))}}),B=h(N,[["__scopeId","data-v-43a5fbcb"]]),k="␟",L="␞",D="␝",F=new RegExp(`${k}?${L}?${D}\\n?`,"u"),G=new RegExp(`${k}?${L}\\n?`,"u"),O=new RegExp(`${k}\\n?`,"u");function*U(o){for(const t of o.split(F)){const[n,s]=t.split(G);yield[n,s]}}const M=S("kanji-components",()=>{const o=p(!1),t=p(null),n=I(new Map),s=p(null);async function a(){if(!o.value){o.value=!0,t.value=null;try{const e=await fetch("/data/index/components-to-kanji-v1.usv");s.value=await e.text()}catch(e){t.value=e}finally{o.value=!1}}}return a(),{usv:s,kanjiComponents:n,sync:a,syncing:o}});function T(o){const t=M();return y(()=>{const n=K(o);if(!n)return[];if(!t.usv)return[n];let s=t.kanjiComponents.get(n);if(!s){for(const[a,e]of U(t.usv))if(a===n){s=e.split(O),t.kanjiComponents.set(a,s);break}}return s??[n]})}const W={class:"header"},A={class:"title literal"},Z={lang:"ja"},q={class:"info"},z={class:"meaning"},H={key:0,class:"reading",lang:"ja"},J=_({__name:"KanjiComponentView",setup(o){const t=V(),n=y(()=>typeof t.params.kanjiComponent!="string"?null:t.params.kanjiComponent),s=T(n),a=b(n);return(e,i)=>(l(),r("article",null,[u("header",W,[u("h1",A,[u("span",Z,f(n.value),1)]),u("p",q,[i[0]||(i[0]=u("span",{class:"info-title"},"Radical / Component",-1)),u("strong",z,f(c(a)?.meaning),1),c(a)?.reading?(l(),r("span",H,f(c(a).reading),1)):m("",!0)])]),C(B,{"kanji-literals":c(s)},null,8,["kanji-literals"])]))}}),sn=h(J,[["__scopeId","data-v-749d5577"]]);export{sn as default};
