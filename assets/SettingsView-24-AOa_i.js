import{d as S,a as v,e as o,K as U,aa as A,u as f,ab as h,ac as C,o as d,_ as $,O as J,P as g,s as G,ad as le,ae as W,N as X,af as D,h as V,t as z,Q as q,b as a,i as R,ag as te,w as c,ah as oe,l as Y,F as O,A as _,I as Z,c as se,m as j,g as ne,R as ae}from"./index-C4O8d0Wk.js";import{a as K,c as ue,A as N,b as de}from"./AppTextArea-CNkSPrtZ.js";import{e as F,n as P,d as M}from"./reviews-Cd2z_uA7.js";import{P as w,r as I,e as T,j as H,k as B,l as x,n as E,o as L,u as re,q as ie}from"./index-CZZIk45U.js";import{A as me}from"./AppLoading-ocLeESRM.js";import{_ as ee}from"./RemoteSyncSyncButton.vue_vue_type_script_setup_true_lang-q0MhDnjK.js";import"./db-D-l1LJxU.js";const pe={class:"fields"},fe={class:"color-mode-fieldset"},ve={class:"fieldset-body"},ce=S({__name:"AppearanceSettings",setup(i){return(s,l)=>(d(),v("div",pe,[o("fieldset",fe,[l[6]||(l[6]=o("legend",null,"Color Mode",-1)),o("div",ve,[o("label",null,[U(o("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>C(h)?h.value=e:null),type:"radio",name:"color-mode",value:"light dark"},null,512),[[A,f(h)]]),l[3]||(l[3]=o("span",{class:"label"},"System",-1))]),o("label",null,[U(o("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>C(h)?h.value=e:null),type:"radio",name:"color-mode",value:"light"},null,512),[[A,f(h)]]),l[4]||(l[4]=o("span",{class:"label"},"Light",-1))]),o("label",null,[U(o("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>C(h)?h.value=e:null),type:"radio",name:"color-mode",value:"dark"},null,512),[[A,f(h)]]),l[5]||(l[5]=o("span",{class:"label"},"Dark",-1))])])])]))}}),ye=$(ce,[["__scopeId","data-v-0530108e"]]),be=["id"],he=["for"],Se=S({inheritAttrs:!1,__name:"AppCheckbox",props:J({label:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const s=g(i,"modelValue"),l=X();return(e,m)=>(d(),v("div",{class:G(["app-checkbox",[e.$attrs.class,e.$style.field]])},[U(o("input",W({id:f(l),"onUpdate:modelValue":m[0]||(m[0]=r=>s.value=r)},{...e.$attrs,class:void 0},{class:[e.$style.input,"input"],type:"checkbox"}),null,16,be),[[le,s.value]]),o("label",{for:f(l),class:G(e.$style.label)},[D(e.$slots,"label",{},()=>[V(z(e.label),1)])],10,he)],2))}}),Ve="_field_18rpb_2",$e="_label_18rpb_8",ke="_input_18rpb_12",ge={field:Ve,label:$e,input:ke},_e={$style:ge},Ce=$(Se,[["__cssModules",_e]]),Ue=S({__name:"PreferencesForm",setup(i){return(s,l)=>(d(),v("form",{class:"form-body",onSubmit:l[3]||(l[3]=q(()=>{},["prevent"]))},[a(K,{modelValue:f(F),"onUpdate:modelValue":l[0]||(l[0]=e=>C(F)?F.value=e:null),label:"Daily review limit",inline:""},null,8,["modelValue"]),a(K,{modelValue:f(P),"onUpdate:modelValue":l[1]||(l[1]=e=>C(P)?P.value=e:null),label:"Daily new limit",inline:""},null,8,["modelValue"]),a(Ce,{modelValue:f(M),"onUpdate:modelValue":l[2]||(l[2]=e=>C(M)?M.value=e:null),label:"Fuzz review times"},null,8,["modelValue"])],32))}}),Re=$(Ue,[["__scopeId","data-v-fb4d8442"]]),Ae=["id"],Fe=S({__name:"AppSelect",props:J({label:{},inline:{type:Boolean},options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const s=g(i,"modelValue"),l=X();return(e,m)=>(d(),R(ue,{control:f(l),label:e.label,inline:e.inline},te({default:c(()=>[U(o("select",W({id:f(l),"onUpdate:modelValue":m[0]||(m[0]=r=>s.value=r)},e.$attrs,{class:"select"}),[(d(!0),v(O,null,Y(e.options,r=>(d(),v("option",{key:r},z(r),1))),128))],16,Ae),[[oe,s.value]])]),_:2},[e.$slots.label?{name:"label",fn:c(()=>[D(e.$slots,"label",{},void 0,!0)]),key:"0"}:void 0,e.$slots.info?{name:"info",fn:c(()=>[D(e.$slots,"info",{},void 0,!0)]),key:"1"}:void 0]),1032,["control","label","inline"]))}}),Pe=$(Fe,[["__scopeId","data-v-264045e7"]]),Me={class:"header-list"},we=S({__name:"RemoteSyncSettingsFormHeadersField",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const s=g(i,"modelValue");function l(r,n){s.value=s.value.with(r,n)}function e(r){s.value=s.value.toSpliced(r,1)}function m(){s.value=[...s.value,["",""]]}return(r,n)=>(d(),v("fieldset",null,[n[2]||(n[2]=o("legend",null,"Headers",-1)),o("ul",Me,[(d(!0),v(O,null,Y(s.value,([y,b],t)=>(d(),v("li",{key:t,class:"header-list-item"},[a(N,{"model-value":y,class:"key-field",label:"Key",onInput:u=>l(t,[u.target.value.toUpperCase(),b])},null,8,["model-value","onInput"]),a(N,{"model-value":b,class:"value-field",label:"Value",onInput:u=>l(t,[y,u.target.value])},null,8,["model-value","onInput"]),a(_,{type:"button",class:"remove-header-button",onClick:u=>e(t)},{default:c(()=>[a(Z,{icon:"delete"})]),_:2},1032,["onClick"])]))),128))]),a(_,{class:"add-header-button",type:"button","prefix-icon":"plus",onClick:n[0]||(n[0]=y=>m())},{default:c(()=>n[1]||(n[1]=[V(" Add Header ")])),_:1,__:[1]})]))}}),Ie=$(we,[["__scopeId","data-v-2cf9f77a"]]),Te={class:"remote-sync-settings-form-section"},He=["textContent"],Be=S({__name:"RemoteSyncSettingsFormSection",props:{method:{default:""},methodModifiers:{},url:{default:""},urlModifiers:{},headers:{default:[]},headersModifiers:{},body:{},bodyModifiers:{}},emits:["update:method","update:url","update:headers","update:body"],setup(i){const s=g(i,"method"),l=g(i,"url"),e=g(i,"headers"),m=g(i,"body"),r=["GET","POST","PATCH","PUT"],n=se(()=>["POST","PATCH","PUT"].includes(s.value)),y=`{
  "name": "shodoku_sync.json",
  "content", "${w}"
}`,b=j(!1);async function t(){b.value=!1,await navigator.clipboard.writeText(w),b.value=!0,setTimeout(()=>{b.value=!1},5e3)}return(u,p)=>(d(),v("div",Te,[a(Pe,{modelValue:s.value,"onUpdate:modelValue":p[0]||(p[0]=k=>s.value=k),options:r,label:"method",class:"method-field"},null,8,["modelValue"]),a(N,{modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=k=>l.value=k),type:"url",label:"URL",class:"url-field",required:""},null,8,["modelValue"]),a(Ie,{modelValue:e.value,"onUpdate:modelValue":p[2]||(p[2]=k=>e.value=k),class:"headers-field"},null,8,["modelValue"]),n.value?(d(),R(de,{key:0,modelValue:m.value,"onUpdate:modelValue":p[3]||(p[3]=k=>m.value=k),label:"Body",class:"body-field",placeholder:y},{info:c(()=>[p[5]||(p[5]=V(" Use ")),o("code",{textContent:z(f(w))},null,8,He),a(_,{inline:"",type:"button",onClick:t},{default:c(()=>[p[4]||(p[4]=o("span",{class:"text"},"Copy ",-1)),a(Z,{icon:b.value?"checkmark":"copy"},null,8,["icon"])]),_:1,__:[4]}),p[6]||(p[6]=V(" to interpolate database sync instructions. "))]),_:1},8,["modelValue"])):ne("",!0)]))}}),Q=$(Be,[["__scopeId","data-v-ab858877"]]),xe={class:"remote-sync-form-section"},Ee={class:"remote-sync-form-section"},Le={class:"form-buttons"},De=S({__name:"RemoteSyncSettingsForm",emits:["cancel","success"],setup(i,{emit:s}){const l=s,e=ae({fetch:{headers:L.value,method:E.value,url:x.value},push:{body:B.value,headers:H.value,method:T.value,url:I.value}}),m=j(null);function r(){L.value=e.fetch.headers,E.value=e.fetch.method,x.value=e.fetch.url,B.value=e.push.body,H.value=e.push.headers,T.value=e.push.method,I.value=e.push.url}async function n(){await m.value?.sync(),l("success")}function y(){e.fetch.headers=L.value,e.fetch.method=E.value,e.fetch.url=x.value,e.push.body=B.value,e.push.headers=H.value,e.push.method=T.value,e.push.url=I.value}return(b,t)=>(d(),v("form",{onSubmit:q(n,["prevent"]),onReset:q(y,["prevent"])},[t[12]||(t[12]=o("p",null," Set the below values to a remote which serves your sync document. This remote can be a GitHub gist, a google drive file, or your own server. The only requirement is that you have to be able to upload and retrieve a text document. ",-1)),o("section",xe,[t[9]||(t[9]=o("h3",null,"Fetch",-1)),a(Q,{method:e.fetch.method,"onUpdate:method":t[0]||(t[0]=u=>e.fetch.method=u),url:e.fetch.url,"onUpdate:url":t[1]||(t[1]=u=>e.fetch.url=u),headers:e.fetch.headers,"onUpdate:headers":t[2]||(t[2]=u=>e.fetch.headers=u)},null,8,["method","url","headers"])]),o("section",Ee,[t[10]||(t[10]=o("h3",null,"Push",-1)),a(Q,{method:e.push.method,"onUpdate:method":t[3]||(t[3]=u=>e.push.method=u),url:e.push.url,"onUpdate:url":t[4]||(t[4]=u=>e.push.url=u),headers:e.push.headers,"onUpdate:headers":t[5]||(t[5]=u=>e.push.headers=u),body:e.push.body,"onUpdate:body":t[6]||(t[6]=u=>e.push.body=u)},null,8,["method","url","headers","body"])]),o("div",Le,[a(_,{type:"reset",onClick:t[7]||(t[7]=u=>b.$emit("cancel"))},{default:c(()=>t[11]||(t[11]=[V(" Cancel ")])),_:1,__:[11]}),a(ee,{ref_key:"syncButton",ref:m,filled:"",onSyncing:r,onSuccess:t[8]||(t[8]=u=>b.$emit("success"))},null,512)])],32))}}),qe=$(De,[["__scopeId","data-v-e782c983"]]),Ne={key:2,class:"buttons"},ze=S({__name:"RemoteSyncSettings",setup(i){const s=j(!1),{loading:l,result:e}=re();function m(){s.value=!0}return(r,n)=>f(l)?(d(),R(me,{key:0})):s.value?(d(),R(qe,{key:1,onCancel:n[0]||(n[0]=y=>s.value=!1),onSuccess:n[1]||(n[1]=y=>s.value=!1)})):(d(),v("div",Ne,[f(e)?(d(),v(O,{key:0},[a(ee,{filled:""}),a(_,{"prefix-icon":"edit",onClick:n[2]||(n[2]=y=>s.value=!0)},{default:c(()=>n[3]||(n[3]=[V(" Configure Remote ")])),_:1,__:[3]}),a(_,{inline:"","prefix-icon":"delete",onClick:f(ie)},{default:c(()=>n[4]||(n[4]=[V(" Disable Remote Sync ")])),_:1,__:[4]},8,["onClick"])],64)):(d(),R(_,{key:1,filled:"",onClick:m},{default:c(()=>n[5]||(n[5]=[V(" Enable Remote Sync ")])),_:1,__:[5]}))]))}}),Oe=$(ze,[["__scopeId","data-v-213e9023"]]),je={class:"settings-view"},Ze=S({__name:"SettingsView",setup(i){return(s,l)=>(d(),v("article",je,[o("section",null,[l[0]||(l[0]=o("h2",null,"Preferences",-1)),a(Re)]),o("section",null,[l[1]||(l[1]=o("h2",null,"Appearance",-1)),a(ye)]),o("section",null,[l[2]||(l[2]=o("h2",null,"Remote Sync",-1)),a(Oe)])]))}});export{Ze as default};
