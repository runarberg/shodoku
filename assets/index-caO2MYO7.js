import{c as w,W as i,a4 as h,a5 as Y,a6 as y,I,a7 as g,a8 as x,Q as A,a9 as B,aa as W,ab as H,ac as S,ad as R,ae as T,u as X}from"./index-sZE7bAWT.js";const b=x?window:void 0;function m(e){var t;const o=i(e);return(t=o?.$el)!=null?t:o}function j(...e){const t=[],o=()=>{t.forEach(n=>n()),t.length=0},a=(n,l,u,r)=>(n.addEventListener(l,u,r),()=>n.removeEventListener(l,u,r)),s=w(()=>{const n=h(i(e[0])).filter(l=>l!=null);return n.every(l=>typeof l!="string")?n:void 0}),f=R(()=>{var n,l;return[(l=(n=s.value)==null?void 0:n.map(u=>m(u)))!=null?l:[b].filter(u=>u!=null),h(i(s.value?e[1]:e[0])),h(X(s.value?e[2]:e[1])),i(s.value?e[3]:e[2])]},([n,l,u,r])=>{if(o(),!n?.length||!l?.length||!u?.length)return;const c=T(r)?{...r}:r;t.push(...n.flatMap(O=>l.flatMap(p=>u.map(d=>a(O,p,d,c)))))},{flush:"post"}),v=()=>{f(),o()};return W(o),v}function P(){const e=y(!1),t=B();return t&&A(()=>{e.value=!0},t),e}function Q(e){const t=P();return w(()=>(t.value,!!e()))}function D(e,t,o={}){const{root:a,rootMargin:s="0px",threshold:f=0,window:v=b,immediate:n=!0}=o,l=Q(()=>v&&"IntersectionObserver"in v),u=w(()=>{const d=i(e);return h(d).map(m).filter(Y)});let r=g;const c=y(n),O=l.value?I(()=>[u.value,m(a),c.value],([d,N])=>{if(r(),!c.value||!d.length)return;const k=new IntersectionObserver(t,{root:m(N),rootMargin:s,threshold:f});d.forEach(L=>L&&k.observe(L)),r=()=>{k.disconnect(),r=g}},{immediate:n,flush:"post"}):g,p=()=>{r(),O(),c.value=!1};return W(p),{isSupported:l,isActive:c,pause(){r(),c.value=!1},resume(){c.value=!0},stop:p}}function M(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const F={mounted(e,t){typeof t.value=="function"?D(e,t.value):D(e,...t.value)}};function C(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:C(o)}}function V(e){const t=e||window.event,o=t.target;return C(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const E=new WeakMap;function $(e,t=!1){const o=y(t);let a=null,s="";I(H(e),n=>{const l=M(i(n));if(l){const u=l;if(E.get(u)||E.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(s=u.style.overflow),u.style.overflow==="hidden")return o.value=!0;if(o.value)return u.style.overflow="hidden"}},{immediate:!0});const f=()=>{const n=M(i(e));!n||o.value||(S&&(a=j(n,"touchmove",l=>{V(l)},{passive:!1})),n.style.overflow="hidden",o.value=!0)},v=()=>{const n=M(i(e));!n||!o.value||(S&&a?.(),n.style.overflow=s,E.delete(n),o.value=!1)};return W(v),w({get(){return o.value},set(n){n?f():v()}})}function q(){let e=!1;const t=y(!1);return(o,a)=>{if(t.value=a.value,e)return;e=!0;const s=$(o,a.value);I(t,f=>s.value=f)}}q();export{F as v};
//# sourceMappingURL=index-caO2MYO7.js.map
