import{y as b,D as W,a6 as P,a7 as B,a8 as D,T as R,a9 as M,m as N,aa as _,X as k,B as h,a2 as G}from"./index-CLUsYwP5.js";function J(t){return D()?(R(t),!0):!1}const U=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const K=t=>t!=null,L=Object.prototype.toString,Q=t=>L.call(t)==="[object Object]",O=()=>{},Y=V();function V(){var t,e;return U&&((t=window?.navigator)==null?void 0:t.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window?.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window?.navigator.userAgent))}function X(...t){if(t.length!==1)return M(...t);const e=t[0];return typeof e=="function"?B(_(()=>({get:e,set:O}))):N(e)}function $(t,e){function i(...n){return new Promise((r,s)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(r).catch(s)})}return i}const j=t=>t();function q(t,e={}){let i,n,r=O;const s=u=>{clearTimeout(u),r(),r=O};let f;return u=>{const p=h(t),c=h(e.maxWait);return i&&s(i),p<=0||c!==void 0&&c<=0?(n&&(s(n),n=void 0),Promise.resolve(u())):new Promise((o,a)=>{r=e.rejectOnCancel?a:o,f=u,c&&!n&&(n=setTimeout(()=>{i&&s(i),n=void 0,o(f())},c)),i=setTimeout(()=>{n&&s(n),n=void 0,o(u())},p)})}}function z(t=j,e={}){const{initialState:i="active"}=e,n=X(i==="active");function r(){n.value=!1}function s(){n.value=!0}const f=(...v)=>{n.value&&t(...v)};return{isActive:B(n),pause:r,resume:s,eventFilter:f}}function x(t,e=!1,i="Timeout"){return new Promise((n,r)=>{setTimeout(e?()=>r(i):n,t)})}function Z(t){return Array.isArray(t)?t:[t]}function E(t){return k()}function C(t,e,i={}){const{eventFilter:n=j,...r}=i;return b(t,$(n,e),r)}function tt(t,e,i={}){const{eventFilter:n,initialState:r="active",...s}=i,{eventFilter:f,pause:v,resume:u,isActive:p}=z(n,{initialState:r});return{stop:C(t,e,{...s,eventFilter:f}),pause:v,resume:u,isActive:p}}function et(t,e=!0,i){E()?W(t,i):e?t():P(t)}function S(t,e=!1){function i(o,{flush:a="sync",deep:d=!1,timeout:w,throwOnTimeout:g}={}){let l=null;const A=[new Promise(T=>{l=b(t,y=>{o(y)!==e&&(l?l():P(()=>l?.()),T(y))},{flush:a,deep:d,immediate:!0})})];return w!=null&&A.push(x(w,g).then(()=>h(t)).finally(()=>l?.())),Promise.race(A)}function n(o,a){if(!G(o))return i(y=>y===o,a);const{flush:d="sync",deep:w=!1,timeout:g,throwOnTimeout:l}=a??{};let m=null;const T=[new Promise(y=>{m=b([t,o],([F,I])=>{e!==(F===I)&&(m?m():P(()=>m?.()),y(F))},{flush:d,deep:w,immediate:!0})})];return g!=null&&T.push(x(g,l).then(()=>h(t)).finally(()=>(m?.(),h(t)))),Promise.race(T)}function r(o){return i(a=>!!a,o)}function s(o){return n(null,o)}function f(o){return n(void 0,o)}function v(o){return i(Number.isNaN,o)}function u(o,a){return i(d=>{const w=Array.from(d);return w.includes(o)||w.includes(h(o))},a)}function p(o){return c(1,o)}function c(o=1,a){let d=-1;return i(()=>(d+=1,d>=o),a)}return Array.isArray(h(t))?{toMatch:i,toContains:u,changed:p,changedTimes:c,get not(){return S(t,!e)}}:{toMatch:i,toBe:n,toBeTruthy:r,toBeNull:s,toBeNaN:v,toBeUndefined:f,changed:p,changedTimes:c,get not(){return S(t,!e)}}}function nt(t){return S(t)}function it(t,e,i={}){const{debounce:n=0,maxWait:r=void 0,...s}=i;return C(t,e,{...s,eventFilter:q(n,{maxWait:r})})}function ot(t,e,i){return b(t,e,{...i,immediate:!0})}export{O as a,J as b,X as c,Y as d,ot as e,Q as f,tt as g,et as h,U as i,K as n,Z as t,nt as u,it as w};
