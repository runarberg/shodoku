import{d as $,c as K,C as p,i as R,w as f,e as o,a as n,g as m,t as u,y as V,p as D,o as t,_ as x,F as g,l as j,b as d,q as L,n as A,u as k,z as S,x as b,h as v,D as E,E as N}from"./index-3SZaU-iL.js";import{S as T,f as G,C as B,A as H}from"./CardRetrievabilityLabel-46Oryz0n.js";import{d as P}from"./decks-BkI394ym.js";import{a as q}from"./fsrs-D14ruAop.js";import{u as F}from"./formats-BZjAUNO7.js";import{u as M}from"./kana-DFdUvK8b.js";const W={class:"kana",lang:"ja"},z={key:0,class:"romaji"},O=$({__name:"KanaVocabularyWord",props:{word:{},hideRomaji:{type:Boolean},hideKana:{type:Boolean},targetKana:{}},setup(a){const r=a,e=K(()=>{if(!r.hideKana||!r.targetKana)return r.word.kana;const c=[...r.targetKana].length,s="◌".repeat(c);return r.word.kana.replaceAll(r.targetKana,s)}),l=new Intl.Collator("en",{usage:"search",sensitivity:"base"}),i=K(()=>{if(!r.hideRomaji)return!1;const{en:c,romaji:s}=r.word;return l.compare(c.slice(0,s.length),s)===0}),h=K(()=>r.word.wordId?p(r.word.wordId):null);return(c,s)=>(t(),R(D(h.value?"RouterLink":"div"),{to:h.value,class:"kana-vocabulary-word"},{default:f(()=>[o("p",W,u(e.value),1),a.hideRomaji?m("",!0):(t(),n("p",z,u(a.word.romaji),1)),o("p",{class:V(["translation",{blur:i.value}])},u(a.word.en),3)]),_:1},8,["to"]))}}),U=x(O,[["__scopeId","data-v-5e73625e"]]),Y={class:"vocab-list"},J=$({__name:"KanaExamples",props:{vocab:{},hideRomaji:{type:Boolean},hideKana:{type:Boolean},targetKana:{}},setup(a){return(r,e)=>(t(),n("section",null,[e[0]||(e[0]=o("h2",null,"Examples",-1)),o("ul",Y,[(t(!0),n(g,null,j(a.vocab,l=>(t(),n("li",{key:l.wordId||l.kana},[d(U,{class:"example-word",word:l,"hide-romaji":a.hideRomaji,"hide-kana":a.hideKana,"target-kana":a.targetKana},null,8,["word","hide-romaji","hide-kana","target-kana"])]))),128))])]))}}),va=x(J,[["__scopeId","data-v-c4c44eda"]]),ba=$({__name:"KanaStrokes",props:{kana:{},autoHint:{type:Boolean},practiceMode:{type:Boolean}},emits:["practiceDone"],setup(a){const r=a,e=L(!0),l=A(()=>Promise.all([...r.kana].map(c=>{const s=c.codePointAt(0)?.toString(16).padStart(5,"0");return s?G(s):{strokes:null,rect:null}})),[],{evaluating:e}),i=K(()=>{const c=[];for(const s of l.value){const y=[];for(const C of s.strokes?.querySelectorAll("path")??[]){const I=C.getAttribute("d");I&&y.push(I)}c.push(y)}return c}),h=K(()=>{const{x:c=0,y:s=0,width:y=109,height:C=109}=l.value.at(0)?.rect??{};return`${c},${s},${y},${C}`});return(c,s)=>(t(),n("section",null,[s[1]||(s[1]=o("h2",null,"Strokes",-1)),i.value&&!e.value?(t(),R(T,{key:0,"view-box":h.value,"char-strokes":i.value,"practice-mode":a.practiceMode,"auto-hint":a.autoHint,onPracticeDone:s[0]||(s[0]=y=>c.$emit("practiceDone"))},null,8,["view-box","char-strokes","practice-mode","auto-hint"])):m("",!0)]))}}),Q={key:0,class:"kana-reading"},w=$({__name:"KanaReading",props:{literal:{}},setup(a){const r=a,e=M(()=>r.literal);return(l,i)=>k(e)?.reading?(t(),n("span",Q,u(k(e)?.reading),1)):m("",!0)}}),X={class:"kana-related"},Z={class:"related-dl"},_={class:"reading base-reading"},aa={key:0},ea={key:1,class:"dd-items"},ta={class:"dd-items"},na=$({__name:"KanaRelated",props:{kana:{}},setup(a){return(r,e)=>{const l=S("RouterLink");return t(),n("aside",X,[o("dl",Z,[e[6]||(e[6]=o("dt",null,"Reading",-1)),o("dd",null,[o("strong",_,u(a.kana.reading),1)]),a.kana.base?(t(),n(g,{key:0},[e[0]||(e[0]=o("dt",null,"Base",-1)),typeof a.kana.base=="string"?(t(),n("dd",aa,[d(l,{to:k(b)(a.kana.base)},{default:f(()=>[v(u(a.kana.base)+" ",1),d(w,{class:"reading",literal:a.kana.base},null,8,["literal"])]),_:1},8,["to"])])):(t(),n("div",ea,[(t(!0),n(g,null,j(a.kana.base,i=>(t(),n("dd",{key:i},[d(l,{to:k(b)(i)},{default:f(()=>[v(u(i)+" ",1),d(w,{class:"reading",literal:i},null,8,["literal"])]),_:2},1032,["to"])]))),128))]))],64)):m("",!0),a.kana.dakuten?(t(),n(g,{key:1},[e[1]||(e[1]=o("dt",null,"Dakuten",-1)),o("dd",null,[d(l,{to:k(b)(a.kana.dakuten)},{default:f(()=>[v(u(a.kana.dakuten)+" ",1),d(w,{class:"reading",literal:a.kana.dakuten},null,8,["literal"])]),_:1},8,["to"])])],64)):m("",!0),a.kana.handakuten?(t(),n(g,{key:2},[e[2]||(e[2]=o("dt",null,"Handakuten",-1)),o("dd",null,[d(l,{to:k(b)(a.kana.handakuten)},{default:f(()=>[v(u(a.kana.handakuten)+" ",1),d(w,{class:"reading",literal:a.kana.handakuten},null,8,["literal"])]),_:1},8,["to"])])],64)):m("",!0),a.kana.youon?(t(),n(g,{key:3},[e[3]||(e[3]=o("dt",null,"Yōon",-1)),o("div",ta,[(t(!0),n(g,null,j(a.kana.youon,i=>(t(),n("dd",{key:i},[d(l,{to:k(b)(i)},{default:f(()=>[v(u(i)+" ",1),d(w,{class:"reading",literal:i},null,8,["literal"])]),_:2},1032,["to"])]))),128))])],64)):m("",!0),a.kana.hiragana?(t(),n(g,{key:4},[e[4]||(e[4]=o("dt",null,"Hiragana",-1)),o("dd",null,[d(l,{to:k(b)(a.kana.hiragana)},{default:f(()=>[v(u(a.kana.hiragana),1)]),_:1},8,["to"])])],64)):a.kana.katakana?(t(),n(g,{key:5},[e[5]||(e[5]=o("dt",null,"Katakana",-1)),o("dd",null,[d(l,{to:k(b)(a.kana.katakana)},{default:f(()=>[v(u(a.kana.katakana),1)]),_:1},8,["to"])])],64)):m("",!0)])])}}}),oa=x(na,[["__scopeId","data-v-a96e9a6c"]]),la={class:"kana-title"},sa={class:"literal"},ra={key:0,lang:"ja"},ia={key:0,class:"base-reading"},da={class:"labels"},ua={key:1,class:"actions"},ca=$({__name:"KanaTitle",props:{kana:{},kanaInfo:{},hideKana:{type:Boolean},hideRomaji:{type:Boolean},actions:{default:"explore"}},setup(a){const r=a,e=K(()=>{const{kana:h}=r;return h.codePointAt(h.length===2?1:0)}),l=F(e),i=q(e,["kana-write","kana-read"]);return(h,c)=>{const s=S("RouterLink");return t(),n("header",la,[o("h2",sa,[a.hideKana?m("",!0):(t(),n("span",ra,u(a.kana),1))]),a.hideRomaji?m("",!0):(t(),n("strong",ia,u(a.kanaInfo?.reading),1)),o("aside",da,[(t(!0),n(g,null,j(k(l),y=>(t(),R(H,{key:y.name,class:"deck-label"},{default:f(()=>[d(s,{to:{name:k(N),query:{deck:y.name}}},{default:f(()=>[v(u(k(P)(y)),1)]),_:2},1032,["to"])]),_:2},1024))),128)),d(B,{r:k(i).get("kana-write"),label:"書"},null,8,["r"]),d(B,{r:k(i).get("kana-read"),label:"読"},null,8,["r"])]),h.$slots.actions?(t(),n("nav",ua,[E(h.$slots,"actions",{},void 0,!0)])):m("",!0),a.kanaInfo?(t(),R(oa,{key:2,kana:a.kanaInfo,class:"related","data-blur":a.hideKana||a.hideRomaji?!0:null},null,8,["kana","data-blur"])):m("",!0)])}}}),Ka=x(ca,[["__scopeId","data-v-7366cf62"]]);export{Ka as K,ba as _,va as a};
//# sourceMappingURL=KanaTitle-CEk6R7Iq.js.map
