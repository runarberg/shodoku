import{d as k,a as f,e as o,S as A,af as F,u as m,ag as S,ah as h,o as d,_ as C,J as z,b as a,h as V,W as Z,X as U,i as R,G as ee,I as le,w as y,D as j,ai as te,l as J,t as X,F as G,K as oe,A as $,E as Q,c as ne,m as K,g as se,L as ae}from"./index-CvwMh420.js";import{v as P,n as M,r as x,k as I,e as T,P as H,w as _,x as B,y as E,z as D,A as L,B as N,C as q,D as ue,E as de}from"./reviews-BBX2ZUfX.js";import{A as re}from"./AppCheckbox-D941w4M3.js";import{a as w,b as ie,A as O}from"./AppNumberInput-DwzG6_pf.js";import{A as me}from"./AppLoading-DS3Rl7Wl.js";import{A as pe}from"./AppTextArea-BX0hH16h.js";import{_ as Y}from"./RemoteSyncSyncButton.vue_vue_type_script_setup_true_lang-DHCYNXJI.js";import"./db-CNlb8ZXY.js";const ve={class:"fields"},fe={class:"color-mode-fieldset"},ye={class:"fieldset-body"},be=k({__name:"AppearanceSettings",setup(p){return(n,l)=>(d(),f("div",ve,[o("fieldset",fe,[l[6]||(l[6]=o("legend",null,"Color Mode",-1)),o("div",ye,[o("label",null,[A(o("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>h(S)?S.value=e:null),type:"radio",name:"color-mode",value:"light dark"},null,512),[[F,m(S)]]),l[3]||(l[3]=o("span",{class:"label"},"System",-1))]),o("label",null,[A(o("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>h(S)?S.value=e:null),type:"radio",name:"color-mode",value:"light"},null,512),[[F,m(S)]]),l[4]||(l[4]=o("span",{class:"label"},"Light",-1))]),o("label",null,[A(o("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>h(S)?S.value=e:null),type:"radio",name:"color-mode",value:"dark"},null,512),[[F,m(S)]]),l[5]||(l[5]=o("span",{class:"label"},"Dark",-1))])])])]))}}),ce=C(be,[["__scopeId","data-v-0530108e"]]),Se=k({__name:"PreferencesForm",setup(p){return(n,l)=>(d(),f("form",{class:"form-body",onSubmit:l[5]||(l[5]=z(()=>{},["prevent"]))},[a(w,{modelValue:m(P),"onUpdate:modelValue":l[0]||(l[0]=e=>h(P)?P.value=e:null),label:"Daily review limit",inline:""},null,8,["modelValue"]),a(w,{modelValue:m(M),"onUpdate:modelValue":l[1]||(l[1]=e=>h(M)?M.value=e:null),label:"Daily new limit",inline:""},null,8,["modelValue"]),a(re,{modelValue:m(x),"onUpdate:modelValue":l[2]||(l[2]=e=>h(x)?x.value=e:null),label:"Fuzz review times"},null,8,["modelValue"]),o("fieldset",null,[l[6]||(l[6]=o("legend",null,[V("Consider Kanji "),o("em",null,"known"),V(" whenâ€¦")],-1)),a(w,{modelValue:m(I),"onUpdate:modelValue":l[3]||(l[3]=e=>h(I)?I.value=e:null),label:"Retention above (%)",min:"50",max:"100",inline:""},null,8,["modelValue"]),l[7]||(l[7]=o("span",{class:"and"},"and",-1)),a(w,{modelValue:m(T),"onUpdate:modelValue":l[4]||(l[4]=e=>h(T)?T.value=e:null),label:"Not due within (weeks)",min:"0",max:"52",inline:""},null,8,["modelValue"])])],32))}}),Ve=C(Se,[["__scopeId","data-v-a532e5e4"]]),he=["id"],ke=k({__name:"AppSelect",props:Z({label:{},inline:{type:Boolean},options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(p){const n=U(p,"modelValue"),l=ee();return(e,v)=>(d(),R(ie,{control:m(l),label:e.label,inline:e.inline},le({default:y(()=>[A(o("select",oe({id:m(l),"onUpdate:modelValue":v[0]||(v[0]=r=>n.value=r)},e.$attrs,{class:"select"}),[(d(!0),f(G,null,J(e.options,r=>(d(),f("option",{key:r},X(r),1))),128))],16,he),[[te,n.value]])]),_:2},[e.$slots.label?{name:"label",fn:y(()=>[j(e.$slots,"label",{},void 0,!0)]),key:"0"}:void 0,e.$slots.info?{name:"info",fn:y(()=>[j(e.$slots,"info",{},void 0,!0)]),key:"1"}:void 0]),1032,["control","label","inline"]))}}),ge=C(ke,[["__scopeId","data-v-264045e7"]]),$e={class:"header-list"},Ce=k({__name:"RemoteSyncSettingsFormHeadersField",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(p){const n=U(p,"modelValue");function l(r,s){n.value=n.value.with(r,s)}function e(r){n.value=n.value.toSpliced(r,1)}function v(){n.value=[...n.value,["",""]]}return(r,s)=>(d(),f("fieldset",null,[s[2]||(s[2]=o("legend",null,"Headers",-1)),o("ul",$e,[(d(!0),f(G,null,J(n.value,([b,c],t)=>(d(),f("li",{key:t,class:"header-list-item"},[a(O,{"model-value":b,class:"key-field",label:"Key",onInput:u=>l(t,[u.target.value.toUpperCase(),c])},null,8,["model-value","onInput"]),a(O,{"model-value":c,class:"value-field",label:"Value",onInput:u=>l(t,[b,u.target.value])},null,8,["model-value","onInput"]),a($,{type:"button",class:"remove-header-button",onClick:u=>e(t)},{default:y(()=>[a(Q,{icon:"delete"})]),_:2},1032,["onClick"])]))),128))]),a($,{class:"add-header-button",type:"button","prefix-icon":"plus",onClick:s[0]||(s[0]=b=>v())},{default:y(()=>s[1]||(s[1]=[V(" Add Header ")])),_:1,__:[1]})]))}}),Ue=C(Ce,[["__scopeId","data-v-2cf9f77a"]]),Re={class:"remote-sync-settings-form-section"},we=["textContent"],Ae=k({__name:"RemoteSyncSettingsFormSection",props:{method:{default:""},methodModifiers:{},url:{default:""},urlModifiers:{},headers:{default:[]},headersModifiers:{},body:{},bodyModifiers:{}},emits:["update:method","update:url","update:headers","update:body"],setup(p){const n=U(p,"method"),l=U(p,"url"),e=U(p,"headers"),v=U(p,"body"),r=["GET","POST","PATCH","PUT"],s=ne(()=>["POST","PATCH","PUT"].includes(n.value)),b=`{
  "name": "shodoku_sync.json",
  "content", "${H}"
}`,c=K(!1);async function t(){c.value=!1,await navigator.clipboard.writeText(H),c.value=!0,setTimeout(()=>{c.value=!1},5e3)}return(u,i)=>(d(),f("div",Re,[a(ge,{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=g=>n.value=g),options:r,label:"method",class:"method-field"},null,8,["modelValue"]),a(O,{modelValue:l.value,"onUpdate:modelValue":i[1]||(i[1]=g=>l.value=g),type:"url",label:"URL",class:"url-field",required:""},null,8,["modelValue"]),a(Ue,{modelValue:e.value,"onUpdate:modelValue":i[2]||(i[2]=g=>e.value=g),class:"headers-field"},null,8,["modelValue"]),s.value?(d(),R(pe,{key:0,modelValue:v.value,"onUpdate:modelValue":i[3]||(i[3]=g=>v.value=g),label:"Body",class:"body-field",placeholder:b},{info:y(()=>[i[5]||(i[5]=V(" Use ")),o("code",{textContent:X(m(H))},null,8,we),a($,{inline:"",type:"button",onClick:t},{default:y(()=>[i[4]||(i[4]=o("span",{class:"text"},"Copy ",-1)),a(Q,{icon:c.value?"checkmark":"copy"},null,8,["icon"])]),_:1,__:[4]}),i[6]||(i[6]=V(" to interpolate database sync instructions. "))]),_:1},8,["modelValue"])):se("",!0)]))}}),W=C(Ae,[["__scopeId","data-v-ab858877"]]),Fe={class:"remote-sync-form-section"},Pe={class:"remote-sync-form-section"},Me={class:"form-buttons"},xe=k({__name:"RemoteSyncSettingsForm",emits:["cancel","success"],setup(p,{emit:n}){const l=n,e=ae({fetch:{headers:q.value,method:N.value,url:L.value},push:{body:D.value,headers:E.value,method:B.value,url:_.value}}),v=K(null);function r(){q.value=e.fetch.headers,N.value=e.fetch.method,L.value=e.fetch.url,D.value=e.push.body,E.value=e.push.headers,B.value=e.push.method,_.value=e.push.url}async function s(){await v.value?.sync(),l("success")}function b(){e.fetch.headers=q.value,e.fetch.method=N.value,e.fetch.url=L.value,e.push.body=D.value,e.push.headers=E.value,e.push.method=B.value,e.push.url=_.value}return(c,t)=>(d(),f("form",{onSubmit:z(s,["prevent"]),onReset:z(b,["prevent"])},[t[12]||(t[12]=o("p",null," Set the below values to a remote which serves your sync document. This remote can be a GitHub gist, a google drive file, or your own server. The only requirement is that you have to be able to upload and retrieve a text document. ",-1)),o("section",Fe,[t[9]||(t[9]=o("h3",null,"Fetch",-1)),a(W,{method:e.fetch.method,"onUpdate:method":t[0]||(t[0]=u=>e.fetch.method=u),url:e.fetch.url,"onUpdate:url":t[1]||(t[1]=u=>e.fetch.url=u),headers:e.fetch.headers,"onUpdate:headers":t[2]||(t[2]=u=>e.fetch.headers=u)},null,8,["method","url","headers"])]),o("section",Pe,[t[10]||(t[10]=o("h3",null,"Push",-1)),a(W,{method:e.push.method,"onUpdate:method":t[3]||(t[3]=u=>e.push.method=u),url:e.push.url,"onUpdate:url":t[4]||(t[4]=u=>e.push.url=u),headers:e.push.headers,"onUpdate:headers":t[5]||(t[5]=u=>e.push.headers=u),body:e.push.body,"onUpdate:body":t[6]||(t[6]=u=>e.push.body=u)},null,8,["method","url","headers","body"])]),o("div",Me,[a($,{type:"reset",onClick:t[7]||(t[7]=u=>c.$emit("cancel"))},{default:y(()=>t[11]||(t[11]=[V(" Cancel ")])),_:1,__:[11]}),a(Y,{ref_key:"syncButton",ref:v,filled:"",onSyncing:r,onSuccess:t[8]||(t[8]=u=>c.$emit("success"))},null,512)])],32))}}),Ie=C(xe,[["__scopeId","data-v-e782c983"]]),Te={key:2,class:"buttons"},He=k({__name:"RemoteSyncSettings",setup(p){const n=K(!1),{loading:l,result:e}=ue();function v(){n.value=!0}return(r,s)=>m(l)?(d(),R(me,{key:0})):n.value?(d(),R(Ie,{key:1,onCancel:s[0]||(s[0]=b=>n.value=!1),onSuccess:s[1]||(s[1]=b=>n.value=!1)})):(d(),f("div",Te,[m(e)?(d(),f(G,{key:0},[a(Y,{filled:""}),a($,{"prefix-icon":"edit",onClick:s[2]||(s[2]=b=>n.value=!0)},{default:y(()=>s[3]||(s[3]=[V(" Configure Remote ")])),_:1,__:[3]}),a($,{inline:"","prefix-icon":"delete",onClick:m(de)},{default:y(()=>s[4]||(s[4]=[V(" Disable Remote Sync ")])),_:1,__:[4]},8,["onClick"])],64)):(d(),R($,{key:1,filled:"",onClick:v},{default:y(()=>s[5]||(s[5]=[V(" Enable Remote Sync ")])),_:1,__:[5]}))]))}}),_e=C(He,[["__scopeId","data-v-213e9023"]]),Be={class:"settings-view"},Ke=k({__name:"SettingsView",setup(p){return(n,l)=>(d(),f("article",Be,[o("section",null,[l[0]||(l[0]=o("h2",null,"Preferences",-1)),a(Ve)]),o("section",null,[l[1]||(l[1]=o("h2",null,"Appearance",-1)),a(ce)]),o("section",null,[l[2]||(l[2]=o("h2",null,"Remote Sync",-1)),a(_e)])]))}});export{Ke as default};
