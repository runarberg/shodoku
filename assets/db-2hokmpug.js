import{a as s}from"./channels-Cq-RpcWF.js";import{k as l,l as c,c as n,u as o,L as m}from"./index-Bay301qk.js";function p(t){const e=l(!0),a=l(null),r=l(null);async function u(){e.value=!0,r.value=null;const i=o(t);try{a.value=await i()}catch(v){r.value=v,a.value=null}finally{e.value=!1}}return s.addEventListener("message",u),c(()=>o(t),u,{immediate:!0}),m(()=>{s.removeEventListener("message",u)}),{error:n(()=>r.value),result:n(()=>a.value),loading:n(()=>e.value)}}export{p as u};
