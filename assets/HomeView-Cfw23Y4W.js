import{d as x,c as k,a as r,u as s,b as y,F as _,e as i,w as l,f as B,A as d,g as c,h as a,t as m,i as v,r as g,j as V,k as S,o,_ as A}from"./index-iqwy-qSw.js";import{p as L,m as N}from"./index-BOsLoRk8.js";import{u as h,a as F,f as T,n as j,i as D}from"./reviews-CI8qaBcI.js";import{A as E}from"./AppLoading-3twUXbbe.js";import{u as H,d as Y}from"./db-B7IDTSNy.js";function z(){return async w=>{let u=0;for await(const n of w)u+=1;return u}}const I={key:0,class:"loading"},Q={class:"home-nav"},q={key:0},G={key:1,class:"counts"},J={class:"due-count"},K={class:"new-count"},M={class:"learning-count"},O={class:"home-nav"},P=x({__name:"HomeView",setup(w){const u=S(),n=h(),p=k(()=>{const t=n.value;return t?t.due===0&&t.new===0&&t.learning===0:!1}),{result:f}=H(async()=>L((await Y).transaction("decks").store.iterate(),N(t=>t.value),T(t=>t.active),z())),C=F(),R=k(()=>{var t;return((t=C.value)==null?void 0:t.size)??0});function b(){D(),u.push(g)}return(t,e)=>(o(),r("article",null,[s(f)===null?(o(),r("div",I,[y(E,{class:"loading-icon"})])):s(f)===0?(o(),r(_,{key:1},[e[1]||(e[1]=i("p",null," You don’t have any active decks. Click the button below to select a deck and start learning new kanji. ",-1)),i("nav",Q,[y(d,{to:s(B),filled:""},{default:l(()=>e[0]||(e[0]=[a("Select Decks")])),_:1},8,["to"])])],64)):(o(),r(_,{key:2},[p.value?(o(),r("p",q," Finished all reviews today. Click the buttons below to see summary or review extra. ")):s(n)?(o(),r("p",G,[e[2]||(e[2]=a(" You have ")),i("span",J,m(s(n).due)+" reviews",1),e[3]||(e[3]=a(" due ")),i("span",K,"(+ "+m(s(n).new)+" new)",1),e[4]||(e[4]=a(" and ")),i("span",M,m(s(n).learning)+" learning",1),e[5]||(e[5]=a(". "))])):c("",!0),i("nav",O,[p.value?c("",!0):(o(),v(d,{key:0,to:s(g),filled:""},{default:l(()=>e[6]||(e[6]=[a(" Start Review ")])),_:1},8,["to"])),R.value>0?(o(),v(d,{key:1,to:s(V)},{default:l(()=>e[7]||(e[7]=[a(" Today’s Summary ")])),_:1},8,["to"])):c("",!0),p.value?(o(),v(d,{key:2,onClick:b},{default:l(()=>[a(" Review "+m(s(j))+" Extra ",1)]),_:1})):c("",!0)])],64))]))}}),ee=A(P,[["__scopeId","data-v-c5b1cedc"]]);export{ee as default};
