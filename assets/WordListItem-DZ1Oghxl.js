import{a as K,g as C,_ as L,V as x,c as B,W as S,u as $,b as F,B as N}from"./WordWritingSelect-DnSPLHUE.js";import{q as T,p as q}from"./reviews-C0tp5JDi.js";import{d as b,c as k,q as M,I as E,a as c,e as o,b as v,z,u as l,C as D,w as O,i as g,F as R,h as U,t as V,g as h,l as A,o as n,_ as I}from"./index-3SZaU-iL.js";const G={class:"vocabulary-word"},H={class:"word",lang:"ja"},J={class:"meaning"},P={class:"extra"},Q={class:"additional-meanings"},X={class:"actions"},Y=b({__name:"VocabularyWord",props:{word:{},kanji:{default:null},hideKanji:{type:Boolean,default:!1},hideReading:{type:Boolean,default:!1},hideMeaning:{type:Boolean,default:!1},sentenceIndex:{default:null}},setup(e){const a=e,r=k(()=>{const{kanji:i,word:t}=a;return t.meanings?i?t.meanings.filter(d=>d.info&&d.info.startsWith("esp. ")&&T.test(d.info)?d.info.includes(i):d.useWithWriting?d.useWithWriting.some(u=>u.includes(i)):!0):t.meanings:[]}),m=K(()=>a.word,{kanji:()=>a.kanji,forceReading:()=>a.hideKanji}),f=k(()=>r.value.at(0)),s=M(null),j=k(()=>r.value.slice(1)),w=M(!1),y=k(()=>a.sentenceIndex?q(a.sentenceIndex,C(i=>i.meaning,i=>i.sentence)):null);return E(()=>a.word.id,(i,t)=>{i!==t&&(s.value=null)}),(i,t)=>{const d=z("RouterLink");return n(),c("div",G,[o("p",H,[v(d,{to:l(D)(e.word.id),class:"word-link"},{default:O(()=>[typeof s.value=="string"?(n(),c(R,{key:0},[U(V(s.value),1)],64)):(n(),g(L,{key:1,furigana:s.value||l(m),"hide-kanji":e.hideKanji,"hide-reading":e.hideReading,kanji:e.kanji},null,8,["furigana","hide-kanji","hide-reading","kanji"]))]),_:1},8,["to"])]),o("div",J,[f.value&&!e.hideMeaning?(n(),g(x,{key:0,meaning:f.value},null,8,["meaning"])):h("",!0)]),o("div",P,[v(B,{"sentence-ids":y.value?.get(1),kanji:e.kanji,"hide-kanji":e.hideKanji,"hide-reading":e.hideReading,"hide-meaning":e.hideMeaning},null,8,["sentence-ids","kanji","hide-kanji","hide-reading","hide-meaning"]),j.value.length>0?(n(),c("details",{key:0,class:"additional-meanings-details",onToggle:t[0]||(t[0]=u=>w.value=!0)},[o("summary",null,V(j.value.length)+" more",1),o("ul",Q,[(n(!0),c(R,null,A(j.value,(u,W)=>(n(),c("li",{key:W,class:"additional-meaning-item"},[e.hideMeaning?h("",!0):(n(),g(x,{key:0,meaning:u},null,8,["meaning"])),w.value?(n(),g(B,{key:1,"sentence-ids":y.value?.get(W+2),kanji:e.kanji,"hide-kanji":e.hideKanji,"hide-reading":e.hideReading,"hide-meaning":e.hideMeaning},null,8,["sentence-ids","kanji","hide-kanji","hide-reading","hide-meaning"])):h("",!0)]))),128))])],32)):h("",!0)]),o("div",X,[!e.hideKanji&&!e.hideReading?(n(),g(S,{key:0,modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=u=>s.value=u),word:e.word,"default-furigana":l(m)},null,8,["modelValue","word","default-furigana"])):h("",!0)])])}}}),Z=I(Y,[["__scopeId","data-v-8bcd3821"]]),p={class:"word-list-item"},_={class:"bullet"},ee=b({__name:"WordListItem",props:{word:{},kanji:{},hideKanji:{type:Boolean},hideReading:{type:Boolean},hideMeaning:{type:Boolean}},setup(e){const a=e,r=$(()=>a.word),m=F(()=>a.word);return(f,s)=>(n(),c("article",p,[o("aside",_,[v(N,{"word-id":e.word,reading:l(r)?.readings?.at(0)?.text,class:"bookmark-button"},null,8,["word-id","reading"])]),l(r)?(n(),g(Z,{key:0,word:l(r),kanji:e.kanji,"hide-kanji":e.hideKanji,"hide-reading":e.hideReading,"hide-meaning":e.hideMeaning,"sentence-index":l(m),class:"word-section"},null,8,["word","kanji","hide-kanji","hide-reading","hide-meaning","sentence-index"])):h("",!0)]))}}),te=I(ee,[["__scopeId","data-v-d852781e"]]);export{te as W};
//# sourceMappingURL=WordListItem-DZ1Oghxl.js.map
