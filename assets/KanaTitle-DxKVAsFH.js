import{d as R,c as K,C as A,i as $,w as f,e as l,a as n,g as m,t as u,y as S,p as D,o as t,_ as x,F as g,l as j,b as d,q as L,n as E,u as k,z as V,x as b,h as v,D as p,E as N}from"./index-6ufKAMkN.js";import{S as T,f as G,C as I,A as H}from"./CardRetrievabilityLabel-D-GUgiVV.js";import{d as P}from"./decks-BkI394ym.js";import{a as q}from"./fsrs-D5mfOv5x.js";import{u as F}from"./formats-CYYAzfAw.js";import{u as M}from"./kana-BuuNxAQb.js";const W={class:"kana",lang:"ja"},z={key:0,class:"romaji"},O=R({__name:"KanaVocabularyWord",props:{word:{},hideRomaji:{type:Boolean},hideKana:{type:Boolean},targetKana:{}},setup(a){const r=a,e=K(()=>{if(!r.hideKana||!r.targetKana)return r.word.kana;const c=[...r.targetKana].length,s="◌".repeat(c);return r.word.kana.replaceAll(r.targetKana,s)}),o=new Intl.Collator("en",{usage:"search",sensitivity:"base"}),i=K(()=>{if(!r.hideRomaji)return!1;const{en:c,romaji:s}=r.word;return o.compare(c.slice(0,s.length),s)===0}),h=K(()=>r.word.wordId?A(r.word.wordId):null);return(c,s)=>(t(),$(D(h.value?"RouterLink":"div"),{to:h.value,class:"kana-vocabulary-word"},{default:f(()=>[l("p",W,u(e.value),1),a.hideRomaji?m("",!0):(t(),n("p",z,u(a.word.romaji),1)),l("p",{class:S(["translation",{blur:i.value}])},u(a.word.en),3)]),_:1},8,["to"]))}}),U=x(O,[["__scopeId","data-v-5e73625e"]]),Y={class:"vocab-list"},J=R({__name:"KanaExamples",props:{vocab:{},hideRomaji:{type:Boolean},hideKana:{type:Boolean},targetKana:{}},setup(a){return(r,e)=>(t(),n("section",null,[e[0]||(e[0]=l("h2",null,"Examples",-1)),l("ul",Y,[(t(!0),n(g,null,j(a.vocab,o=>(t(),n("li",{key:o.wordId||o.kana},[d(U,{class:"example-word",word:o,"hide-romaji":a.hideRomaji,"hide-kana":a.hideKana,"target-kana":a.targetKana},null,8,["word","hide-romaji","hide-kana","target-kana"])]))),128))])]))}}),ya=x(J,[["__scopeId","data-v-c4c44eda"]]),va=R({__name:"KanaStrokes",props:{kana:{},autoHint:{type:Boolean},practiceMode:{type:Boolean}},emits:["practiceDone"],setup(a){const r=a,e=L(!0),o=E(()=>Promise.all([...r.kana].map(c=>{const s=c.codePointAt(0)?.toString(16).padStart(5,"0");return s?G(s):{strokes:null,rect:null}})),[],{evaluating:e}),i=K(()=>{const c=[];for(const s of o.value){const y=[];for(const C of s.strokes?.querySelectorAll("path")??[]){const B=C.getAttribute("d");B&&y.push(B)}c.push(y)}return c}),h=K(()=>{const{x:c=0,y:s=0,width:y=109,height:C=109}=o.value.at(0)?.rect??{};return`${c},${s},${y},${C}`});return(c,s)=>(t(),n("section",null,[s[1]||(s[1]=l("h2",null,"Strokes",-1)),i.value&&!e.value?(t(),$(T,{key:0,"view-box":h.value,"char-strokes":i.value,"practice-mode":a.practiceMode,"auto-hint":a.autoHint,onPracticeDone:s[0]||(s[0]=y=>c.$emit("practiceDone"))},null,8,["view-box","char-strokes","practice-mode","auto-hint"])):m("",!0)]))}}),Q={key:0,class:"kana-reading"},w=R({__name:"KanaReading",props:{literal:{}},setup(a){const r=a,e=M(()=>r.literal);return(o,i)=>k(e)?.reading?(t(),n("span",Q,u(k(e)?.reading),1)):m("",!0)}}),X={class:"kana-related"},Z={class:"reading base-reading"},_={key:0},aa={key:1,class:"dd-items"},ea={class:"dd-items"},ta=R({__name:"KanaRelated",props:{kana:{},hideReading:{type:Boolean}},setup(a){return(r,e)=>{const o=V("RouterLink");return t(),n("aside",X,[l("dl",{class:S(["related-dl",{"dd-hidden":a.hideReading}])},[e[6]||(e[6]=l("dt",null,"Reading",-1)),l("dd",null,[l("strong",Z,u(a.kana.reading),1)]),a.kana.base?(t(),n(g,{key:0},[e[0]||(e[0]=l("dt",null,"Base",-1)),typeof a.kana.base=="string"?(t(),n("dd",_,[d(o,{to:k(b)(a.kana.base)},{default:f(()=>[v(u(a.kana.base)+" ",1),d(w,{class:"reading",literal:a.kana.base},null,8,["literal"])]),_:1},8,["to"])])):(t(),n("div",aa,[(t(!0),n(g,null,j(a.kana.base,i=>(t(),n("dd",{key:i},[d(o,{to:k(b)(i)},{default:f(()=>[v(u(i)+" ",1),d(w,{class:"reading",literal:i},null,8,["literal"])]),_:2},1032,["to"])]))),128))]))],64)):m("",!0),a.kana.dakuten?(t(),n(g,{key:1},[e[1]||(e[1]=l("dt",null,"Dakuten",-1)),l("dd",null,[d(o,{to:k(b)(a.kana.dakuten)},{default:f(()=>[v(u(a.kana.dakuten)+" ",1),d(w,{class:"reading",literal:a.kana.dakuten},null,8,["literal"])]),_:1},8,["to"])])],64)):m("",!0),a.kana.handakuten?(t(),n(g,{key:2},[e[2]||(e[2]=l("dt",null,"Handakuten",-1)),l("dd",null,[d(o,{to:k(b)(a.kana.handakuten)},{default:f(()=>[v(u(a.kana.handakuten)+" ",1),d(w,{class:"reading",literal:a.kana.handakuten},null,8,["literal"])]),_:1},8,["to"])])],64)):m("",!0),a.kana.youon?(t(),n(g,{key:3},[e[3]||(e[3]=l("dt",null,"Yōon",-1)),l("div",ea,[(t(!0),n(g,null,j(a.kana.youon,i=>(t(),n("dd",{key:i},[d(o,{to:k(b)(i)},{default:f(()=>[v(u(i)+" ",1),d(w,{class:"reading",literal:i},null,8,["literal"])]),_:2},1032,["to"])]))),128))])],64)):m("",!0),a.kana.hiragana?(t(),n(g,{key:4},[e[4]||(e[4]=l("dt",null,"Hiragana",-1)),l("dd",null,[d(o,{to:k(b)(a.kana.hiragana)},{default:f(()=>[v(u(a.kana.hiragana),1)]),_:1},8,["to"])])],64)):a.kana.katakana?(t(),n(g,{key:5},[e[5]||(e[5]=l("dt",null,"Katakana",-1)),l("dd",null,[d(o,{to:k(b)(a.kana.katakana)},{default:f(()=>[v(u(a.kana.katakana),1)]),_:1},8,["to"])])],64)):m("",!0)],2)])}}}),na=x(ta,[["__scopeId","data-v-051b3eaf"]]),la={class:"kana-title"},oa={class:"literal"},sa={key:0,lang:"ja"},ra={key:0,class:"base-reading"},ia={class:"labels"},da={key:1,class:"actions"},ua=R({__name:"KanaTitle",props:{kana:{},kanaInfo:{},hideKana:{type:Boolean},hideRomaji:{type:Boolean},actions:{default:"explore"}},setup(a){const r=a,e=K(()=>{const{kana:h}=r;return h.codePointAt(h.length===2?1:0)}),o=F(e),i=q(e,["kana-write","kana-read"]);return(h,c)=>{const s=V("RouterLink");return t(),n("header",la,[l("h2",oa,[a.hideKana?m("",!0):(t(),n("span",sa,u(a.kana),1))]),a.hideRomaji?m("",!0):(t(),n("strong",ra,u(a.kanaInfo?.reading),1)),l("aside",ia,[(t(!0),n(g,null,j(k(o),y=>(t(),$(H,{key:y.name,class:"deck-label"},{default:f(()=>[d(s,{to:{name:k(N),query:{deck:y.name}}},{default:f(()=>[v(u(k(P)(y)),1)]),_:2},1032,["to"])]),_:2},1024))),128)),d(I,{r:k(i).get("kana-write"),label:"書"},null,8,["r"]),d(I,{r:k(i).get("kana-read"),label:"読"},null,8,["r"])]),h.$slots.actions?(t(),n("nav",da,[p(h.$slots,"actions",{},void 0,!0)])):m("",!0),a.kanaInfo?(t(),$(na,{key:2,kana:a.kanaInfo,"hide-reading":a.hideKana||a.hideRomaji,"data-blur":a.hideKana||a.hideRomaji?!0:null,class:"related"},null,8,["kana","hide-reading","data-blur"])):m("",!0)])}}}),ba=x(ua,[["__scopeId","data-v-42baba3b"]]);export{ba as K,va as _,ya as a};
//# sourceMappingURL=KanaTitle-DxKVAsFH.js.map
