{"version":3,"file":"DeckBrowserView-EC0CinS2.js","sources":["../../node_modules/yta/src/async/consumers/reduce.js","../../node_modules/yta/src/sync/consumers/to-array.js","../../node_modules/yta/src/sync/operators/map.js","../../node_modules/yta/src/sync/operators/filter.js","../../node_modules/yta/src/sync/operators/unique.js","../../src/components/CustomDeckForm.vue","../../src/components/CustomDeckCreate.vue","../../src/components/DeckActivateButton.vue","../../src/components/CustomDeckEdit.vue","../../src/components/DeckBrowserItem.vue","../../src/components/DeckBrowserCategory.vue","../../src/components/DeckBrowserCustom.vue","../../src/components/DeckBrowser.vue","../../src/views/DeckBrowserView.vue"],"sourcesContent":["/**\n * Consume an async iterator resulting in a single promise.\n *\n * ```js\n * import { asAsync, pipe } from \"yta\";\n * import { reduce } from \"yta/async\";\n * import { range } from \"yta/sync\";\n *\n * await pipe(\n *   range(10),\n *   asAsync(),\n *   reduce((sum, x) => sum + x, 0),\n * );\n * // => 45\n * ```\n *\n * @template A The input type\n * @template B The output value type\n * @param {(acc: B, item: A) => B} fn The consuming function\n * @param {B} init The initial value\n * @returns {(items: AsyncIterable<A>) => Promise<B>}\n */\nexport default function reduce(fn, init) {\n  return async (items) => {\n    let acc = init;\n\n    for await (const item of items) {\n      acc = fn(acc, item);\n    }\n\n    return acc;\n  };\n}\n","/**\n * Collect the iterator into an array.\n *\n * ```js\n * import { pipe } from \"yta\";\n * import { range, toArray } from \"yta/sync\";\n *\n * pipe(range(5), toArray());\n * // => [0, 1, 2, 3, 4]\n * ```\n *\n * @template A\n * @returns {(items: Iterable<A>) => A[]}\n */\nexport default function toArray() {\n  return (items) => [...items];\n}\n","/**\n * Map each item in the iterator.\n *\n * ```js\n * import { pipe } from \"yta\";\n * import { map, range, toArray } from \"yta/sync\";\n *\n * pipe(\n *   range(3),\n *   map((x) => x * 2),\n * );\n * // => [0, 2, 4]\n * ```\n *\n * **See also:**\n *\n * - {@link flatMap}\n *\n * @template A - The input type\n * @template B - The output type\n * @param {(item: A) => B} fn - The mapping function\n * @returns {(items: Iterable<A>) => Generator<B, void>}\n */\nexport default function map(fn) {\n  return function* (items) {\n    for (const item of items) {\n      yield fn(item);\n    }\n  };\n}\n","/**\n * Filter items in the iterator leaving only the items that fulfill the predicate.\n *\n * ```js\n * import { pipe } from \"yta\";\n * import { filter, range, toArray } from \"yta/sync\";\n *\n * pipe(\n *   range(10),\n *   filter((n) => n % 2 === 0),\n *   toArray(),\n * );\n * // => [0, 2, 4, 6, 8]\n * ```\n *\n * @template A - The item type\n * @param {(item: A) => boolean} p - The predicated function\n * @returns {(items: Iterable<A>) => Generator<A, void>}\n */\nexport default function filter(p) {\n  return function* (items) {\n    for (const item of items) {\n      if (p(item)) {\n        yield item;\n      }\n    }\n  };\n}\n","/**\n * Filter items in the iterator such that no two items are the same.\n *\n * ```js\n * import { pipe } from \"yta\";\n * import { of, toArray, unique } from \"yta/sync\";\n *\n * pipe(\n *   of(1, 2, 2, 3, 4, 5, 4),\n *   unique(),\n *   toArray(),\n * );\n * // => [1, 2, 3, 4, 5]\n * ```\n *\n * @since 1.1.0\n * @template A - The item type\n * @returns {(items: Iterable<A>) => Generator<A, void>}\n */\nexport default function unique() {\n  return function* (items) {\n    /** @type {Set<A>} */\n    const collection = new Set();\n\n    for (const item of items) {\n      if (!collection.has(item)) {\n        yield item;\n        collection.add(item);\n      }\n    }\n  };\n}\n","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { pipe } from \"yta\";\nimport { filter, map, toArray, unique } from \"yta/sync\";\n\nimport { isKanji } from \"../helpers/text.ts\";\nimport AppButton from \"./AppButton.vue\";\nimport AppInput from \"./AppInput.vue\";\nimport AppNumberInput from \"./AppNumberInput.vue\";\nimport AppTextArea from \"./AppTextArea.vue\";\n\nconst label = defineModel<string>(\"label\");\nconst priority = defineModel<number>(\"priority\");\nconst cards = defineModel<number[]>(\"cards\");\n\nwithDefaults(\n  defineProps<{\n    labelFieldDisabled?: boolean;\n    priorityFieldDisabled?: boolean;\n    confirmIcon?: string | null;\n    confirmLabel?: string;\n  }>(),\n  {\n    labelFieldDisabled: false,\n    priorityFieldDisabled: false,\n    confirmLabel: \"confirm\",\n    confirmIcon: null,\n  },\n);\n\ndefineEmits<{\n  submit: [];\n  reset: [];\n}>();\n\nconst kanji = computed({\n  get() {\n    if (!cards.value) {\n      return \"\";\n    }\n\n    return cards.value\n      .map((codePoint) => String.fromCodePoint(codePoint))\n      .join(\"\");\n  },\n\n  set(value: string) {\n    cards.value = pipe(\n      value,\n      filter(isKanji),\n      map((char) => char.codePointAt(0) as number),\n      unique(),\n      toArray(),\n    );\n  },\n});\n</script>\n\n<template>\n  <form @submit.prevent=\"$emit('submit')\" @reset=\"$emit('reset')\">\n    <div class=\"form-body\">\n      <AppInput\n        v-model=\"label\"\n        class=\"name-field\"\n        label=\"Deck Name\"\n        :disabled=\"labelFieldDisabled\"\n        required\n      />\n\n      <AppNumberInput\n        v-model=\"priority\"\n        class=\"priority-field\"\n        label=\"Priority\"\n        min=\"1\"\n        :disabled=\"priorityFieldDisabled\"\n        required\n      />\n\n      <AppTextArea\n        v-model=\"kanji\"\n        class=\"kanji-field\"\n        label=\"Kanji\"\n        autocomplete=\"off\"\n        autocorrect=\"off\"\n        autocapitalize=\"off\"\n        spellcheck=\"false\"\n        placeholder=\"Type or paste in your kanji here: 日月火時漢字読書\"\n      />\n    </div>\n\n    <div class=\"buttons\">\n      <AppButton type=\"reset\"> Cancel </AppButton>\n      <AppButton type=\"submit\" :prefix-icon=\"confirmIcon\" filled>\n        {{ confirmLabel }}\n      </AppButton>\n    </div>\n  </form>\n</template>\n\n<style scoped>\n.form-body {\n  display: grid;\n  gap: 1em;\n  grid-template:\n    \"name priority\"\n    \"kanji kanji\"\n    / 3fr 1fr;\n\n  & .name-field {\n    grid-area: name;\n  }\n\n  & .priority-field {\n    grid-area: priority;\n  }\n\n  & .kanji-field {\n    grid-area: kanji;\n\n    & :deep(textarea) {\n      min-block-size: 5em;\n    }\n  }\n\n  @media screen and (max-width: 60ch) {\n    display: flex;\n    flex-direction: column;\n  }\n}\n\n.buttons {\n  column-gap: 1ex;\n  display: flex;\n  margin-block-start: 1em;\n  justify-content: end;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { onMounted, reactive, toRaw } from \"vue\";\nimport { pipe } from \"yta\";\nimport { map, reduce } from \"yta/async\";\n\nimport { createDeck } from \"../db/decks.ts\";\nimport { db } from \"../db/index.ts\";\nimport { Deck } from \"../types.ts\";\nimport CustomDeckForm from \"./CustomDeckForm.vue\";\n\nconst emit = defineEmits<{\n  cancel: [];\n  success: [deck: Deck];\n}>();\n\ntype Model = {\n  label: string;\n  priority: number;\n  cards: number[];\n};\n\nconst model = reactive<Model>({\n  label: \"\",\n  priority: 1,\n  cards: [],\n});\n\nasync function setDefaultPriority() {\n  const customDeckCardCount = await pipe(\n    (await db).transaction(\"decks\").store.index(\"category\").iterate(\"custom\"),\n    map((cursor) => cursor.value.cards.length),\n    reduce((sum, length) => sum + length, 0),\n  );\n\n  if (customDeckCardCount) {\n    model.priority = Math.ceil(customDeckCardCount / 12);\n  }\n}\n\nasync function handleSubmit() {\n  const deck = await createDeck({\n    label: model.label,\n    priority: model.priority,\n    cards: toRaw(model.cards),\n  });\n\n  emit(\"success\", deck);\n}\n\nonMounted(() => {\n  setDefaultPriority();\n});\n</script>\n\n<template>\n  <CustomDeckForm\n    v-model:cards=\"model.cards\"\n    v-model:label=\"model.label\"\n    v-model:priority=\"model.priority\"\n    confirm-icon=\"plus\"\n    confirm-label=\"Create\"\n    @submit=\"handleSubmit\"\n    @reset=\"$emit('cancel')\"\n  />\n</template>\n","<script setup lang=\"ts\">\nimport AppButton from \"./AppButton.vue\";\n\nconst props = withDefaults(\n  defineProps<{\n    isActive?: boolean;\n    toggling?: boolean;\n  }>(),\n  {\n    isActive: false,\n    toggling: false,\n  },\n);\n\nconst emit = defineEmits<{\n  activate: [];\n  deactivate: [];\n}>();\n\nfunction handleClick() {\n  if (props.isActive) {\n    emit(\"deactivate\");\n  } else {\n    emit(\"activate\");\n  }\n}\n</script>\n\n<template>\n  <AppButton\n    class=\"activate-button\"\n    :filled=\"isActive\"\n    :disabled=\"toggling\"\n    :prefix-icon=\"toggling ? undefined : isActive ? 'checkmark' : 'plus'\"\n    :aria-pressed=\"isActive\"\n    @click=\"handleClick\"\n  >\n    <template v-if=\"toggling\">\n      <span class=\"loading-icon\">時</span> Loading\n    </template>\n    <template v-else-if=\"isActive\"> Active </template>\n    <template v-else> Add </template>\n  </AppButton>\n</template>\n\n<style scoped>\n.activate-button {\n  background: none;\n  border-width: 2px;\n  padding: 0.5ex;\n  font-size: 0.8em;\n\n  & .loading-icon {\n    animation: fade-in-out 2s ease-in-out alternate both infinite;\n    font-weight: 700;\n  }\n}\n\n@keyframes fade-in-out {\n  from {\n    opacity: 0.2;\n  }\n\n  to {\n    opacity: 1;\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { reactive, toRaw } from \"vue\";\n\nimport { editDeck } from \"../db/decks.ts\";\nimport { Deck } from \"../types.ts\";\nimport CustomDeckForm from \"./CustomDeckForm.vue\";\n\nconst props = defineProps<{\n  deck: Deck;\n}>();\n\nconst emit = defineEmits<{\n  cancel: [];\n  success: [];\n}>();\n\nconst model = reactive({\n  label: props.deck.label,\n  priority: props.deck.priority,\n  cards: props.deck.cards,\n});\n\nasync function handleSubmit() {\n  await editDeck({\n    ...props.deck,\n    label: model.label,\n    priority: model.priority,\n    cards: toRaw(model.cards),\n  });\n\n  emit(\"success\");\n}\n</script>\n\n<template>\n  <CustomDeckForm\n    v-model:cards=\"model.cards\"\n    v-model:label=\"model.label\"\n    v-model:priority=\"model.priority\"\n    confirm-label=\"Update\"\n    :label-field-disabled=\"props.deck.category !== 'custom'\"\n    :priority-field-disabled=\"props.deck.category !== 'custom'\"\n    @submit=\"handleSubmit\"\n    @reset=\"$emit('cancel')\"\n  />\n</template>\n","<script setup lang=\"ts\">\nimport { computed, ref, useId, watch } from \"vue\";\n\nimport {\n  activateDeck,\n  createDeck,\n  deactivateDeck,\n  removeDeck,\n} from \"../db/decks.ts\";\nimport { kanjiRoute } from \"../router.ts\";\nimport { Deck, DeckTemplate } from \"../types.ts\";\nimport AppButton from \"./AppButton.vue\";\nimport CustomDeckEdit from \"./CustomDeckEdit.vue\";\nimport DeckActivateButton from \"./DeckActivateButton.vue\";\n\ntype Props = (\n  | {\n      deck: Deck;\n      template: null;\n      category: null;\n    }\n  | {\n      deck: null;\n      template: DeckTemplate;\n      category: string;\n    }\n) & {\n  togglingCategory?: boolean;\n};\n\nconst props = withDefaults(defineProps<Props>(), {\n  togglingCategory: false,\n});\n\nconst toggling = ref(false);\nconst editing = ref(false);\nconst labelId = useId();\nconst kanjiList = ref<string[] | null>(null);\n\nconst isActive = computed(() => props.deck?.active);\n\nasync function activate() {\n  toggling.value = true;\n\n  try {\n    if (props.deck) {\n      await activateDeck(props.deck.name);\n    } else {\n      await createDeck({\n        name: props.template.name,\n        label: props.template.label,\n        priority: props.template.priority,\n        category: props.category,\n        cards:\n          kanjiList.value?.map((kanji) => kanji.codePointAt(0) ?? NaN) ?? [],\n      });\n    }\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n  } finally {\n    toggling.value = false;\n  }\n}\n\nasync function deactivate() {\n  if (!props.deck) {\n    return;\n  }\n\n  toggling.value = true;\n\n  try {\n    await deactivateDeck(props.deck.name);\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n  } finally {\n    toggling.value = false;\n  }\n}\n\nwatch(\n  () => props.template?.content,\n  async (path) => {\n    if (!path) {\n      kanjiList.value = null;\n      return;\n    }\n\n    const response = await fetch(path);\n    const text = await response.text();\n\n    kanjiList.value = text.split(\"\\n\").filter((char) => char);\n  },\n  { immediate: true },\n);\n</script>\n\n<template>\n  <CustomDeckEdit\n    v-if=\"editing && deck\"\n    :deck=\"deck\"\n    @cancel=\"editing = false\"\n    @success=\"editing = false\"\n  />\n\n  <article v-else :aria-labelledby=\"labelId\">\n    <div class=\"controls\">\n      <strong :id=\"labelId\">{{ deck?.label ?? template?.label }}</strong>\n      <DeckActivateButton\n        :toggling=\"toggling || togglingCategory\"\n        :is-active=\"isActive\"\n        @activate=\"activate\"\n        @deactivate=\"deactivate\"\n      />\n\n      <AppButton\n        v-if=\"deck?.active || deck?.category === 'custom'\"\n        class=\"edit-button\"\n        @click=\"editing = true\"\n      >\n        Edit\n      </AppButton>\n      <AppButton\n        v-else-if=\"deck && !deck.active && deck.category !== 'custom'\"\n        class=\"edit-button\"\n        @click=\"removeDeck(deck.name)\"\n      >\n        Reset\n      </AppButton>\n\n      <AppButton\n        v-if=\"deck?.category === 'custom'\"\n        class=\"delete-button\"\n        @click=\"removeDeck(deck.name)\"\n      >\n        Delete\n      </AppButton>\n    </div>\n\n    <ol class=\"kanji-list\">\n      <template v-if=\"deck\">\n        <li v-for=\"codePoint of deck.cards\" :key=\"codePoint\" class=\"kanji\">\n          <RouterLink :to=\"kanjiRoute(String.fromCodePoint(codePoint))\">\n            {{ String.fromCodePoint(codePoint) }}\n          </RouterLink>\n        </li>\n      </template>\n      <template v-else-if=\"kanjiList\">\n        <li v-for=\"kanji of kanjiList\" :key=\"kanji\" class=\"kanji\">\n          <RouterLink :to=\"kanjiRoute(kanji)\">\n            {{ kanji }}\n          </RouterLink>\n        </li>\n      </template>\n    </ol>\n  </article>\n</template>\n\n<style scoped>\n.controls {\n  align-items: center;\n  column-gap: 1ex;\n  display: flex;\n\n  & .edit-button,\n  & .delete-button {\n    background: none;\n    border: none;\n    font-size: 0.8em;\n    padding: 0.2ex;\n  }\n}\n\n.kanji-list {\n  display: flex;\n  flex-wrap: wrap;\n  column-gap: 1ex;\n  list-style: none;\n  margin: 0;\n}\n\n.kanji {\n  font-size: 1.2em;\n\n  & a {\n    color: inherit;\n    text-decoration: none;\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { computed, ref, useId } from \"vue\";\n\nimport { activateDeckCategory, deactivateDeckCategory } from \"../db/decks.ts\";\nimport { db } from \"../db/index.ts\";\nimport { useLiveQuery } from \"../helpers/db.ts\";\nimport { Deck, DeckTemplate } from \"../types.ts\";\nimport AppButton from \"./AppButton.vue\";\nimport CustomDeckCreate from \"./CustomDeckCreate.vue\";\nimport DeckAcativateButton from \"./DeckActivateButton.vue\";\nimport DeckBrowserItem from \"./DeckBrowserItem.vue\";\n\nconst props = defineProps<{\n  title: string;\n  category: string;\n  deckTemplates?: DeckTemplate[];\n}>();\n\nconst creating = ref(false);\nconst expanded = ref(false);\nconst titleId = useId();\n\nconst { result: storedDecks } = useLiveQuery(\n  computed(() => {\n    const { category } = props;\n\n    return async () => {\n      const map = new Map<string, Deck>();\n\n      const items = (await db)\n        .transaction(\"decks\")\n        .store.index(\"category+priority\")\n        .iterate(\n          IDBKeyRange.bound(\n            [category, 0],\n            [category, Number.POSITIVE_INFINITY],\n            true,\n            true,\n          ),\n        );\n\n      for await (const item of items) {\n        map.set(item.primaryKey, item.value);\n      }\n\n      return map;\n    };\n  }),\n);\n\nconst deckCount = computed(() => {\n  if (props.deckTemplates) {\n    return props.deckTemplates.length;\n  }\n\n  return storedDecks.value?.size ?? 0;\n});\n\nconst activeDeckCount = computed(() => {\n  if (!storedDecks.value) {\n    return 0;\n  }\n\n  let sum = 0;\n  for (const [, { active }] of storedDecks.value) {\n    if (active) {\n      sum += 1;\n    }\n  }\n\n  return sum;\n});\n\nconst toggling = ref(false);\nconst isActive = computed(() => {\n  if (!props.deckTemplates) {\n    return true;\n  }\n\n  return activeDeckCount.value >= props.deckTemplates.length;\n});\n\nasync function activate(deckTemplates: DeckTemplate[]) {\n  toggling.value = true;\n\n  try {\n    await activateDeckCategory(props.category, deckTemplates);\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n  } finally {\n    toggling.value = false;\n  }\n}\n\nasync function deactivate() {\n  toggling.value = true;\n\n  try {\n    await deactivateDeckCategory(props.category);\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error(error);\n  } finally {\n    toggling.value = false;\n  }\n}\n\nfunction handleDeckCreated() {\n  expanded.value = true;\n  creating.value = false;\n}\n</script>\n\n<template>\n  <article :aria-labelledby=\"titleId\">\n    <div class=\"controls\">\n      <strong :id=\"titleId\" class=\"title\">{{ title }}</strong>\n\n      <DeckAcativateButton\n        v-if=\"deckTemplates\"\n        :toggling=\"toggling\"\n        :is-active=\"isActive\"\n        @activate=\"activate(deckTemplates)\"\n        @deactivate=\"deactivate\"\n      />\n\n      <AppButton\n        v-else-if=\"!creating\"\n        class=\"create-custom-button\"\n        prefix-icon=\"plus\"\n        @click=\"creating = true\"\n      >\n        Create New\n      </AppButton>\n    </div>\n\n    <AppButton\n      v-if=\"deckCount > 0\"\n      class=\"expand-button\"\n      :aria-pressed=\"expanded\"\n      @click=\"expanded = !expanded\"\n    >\n      <template v-if=\"expanded\"> Hide </template>\n      <template v-else> Show </template>\n      ({{ deckCount }} decks)\n    </AppButton>\n\n    <CustomDeckCreate\n      v-if=\"creating\"\n      class=\"custom-deck-create\"\n      @cancel=\"creating = false\"\n      @success=\"handleDeckCreated\"\n    />\n\n    <ol v-if=\"expanded\" class=\"deck-list\">\n      <template v-if=\"deckTemplates\">\n        <li v-for=\"template of deckTemplates\" :key=\"template.name\">\n          <DeckBrowserItem\n            :deck=\"storedDecks?.get(template.name)\"\n            :template=\"template\"\n            :category=\"category\"\n            :toggling-category=\"toggling\"\n          />\n        </li>\n      </template>\n      <template v-else-if=\"storedDecks\">\n        <li v-for=\"[name, deck] of storedDecks\" :key=\"name\">\n          <DeckBrowserItem :deck=\"deck\" />\n        </li>\n      </template>\n    </ol>\n  </article>\n</template>\n\n<style scoped>\n.controls {\n  align-items: center;\n  column-gap: 1ex;\n  display: flex;\n}\n\n.title {\n  font-size: 1.5em;\n}\n\n.create-custom-button {\n  border-width: 2px;\n  padding: 0.5ex;\n  font-size: 0.8em;\n}\n\n.expand-button {\n  background: none;\n  font-size: 0.75em;\n  border: none;\n  padding: 0;\n}\n\n.custom-deck-create {\n  margin-block: 1em;\n}\n\n.deck-list {\n  list-style: none;\n  margin-block: 1ex;\n  padding: 0;\n\n  & > li {\n    margin-block-start: 1ex;\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport DeckBrowserCategory from \"./DeckBrowserCategory.vue\";\n</script>\n\n<template>\n  <DeckBrowserCategory title=\"Custom\" category=\"custom\" />\n</template>\n","<script setup lang=\"ts\">\nimport {\n  basicKanjiDecks,\n  genkiDecks,\n  jlptDecks,\n  jouyouDecks,\n  newsFrequencyDecks,\n} from \"../helpers/decks.ts\";\nimport DeckBrowserCategory from \"./DeckBrowserCategory.vue\";\nimport DeckBrowserCustom from \"./DeckBrowserCustom.vue\";\n</script>\n\n<template>\n  <ul class=\"categories\">\n    <li>\n      <DeckBrowserCategory\n        title=\"JLPT\"\n        category=\"jlpt\"\n        :deck-templates=\"jlptDecks\"\n      />\n    </li>\n\n    <li>\n      <DeckBrowserCategory\n        title=\"Jōyō Kanji\"\n        category=\"jouyou\"\n        :deck-templates=\"jouyouDecks\"\n      />\n    </li>\n\n    <li>\n      <DeckBrowserCategory\n        title=\"News Frequency\"\n        category=\"news\"\n        :deck-templates=\"newsFrequencyDecks\"\n      />\n    </li>\n\n    <li>\n      <DeckBrowserCategory\n        title=\"Genki\"\n        category=\"genki\"\n        :deck-templates=\"genkiDecks\"\n      />\n    </li>\n\n    <li>\n      <DeckBrowserCategory\n        title=\"Basic Kanji Book\"\n        category=\"basic-kanji\"\n        :deck-templates=\"basicKanjiDecks\"\n      />\n    </li>\n\n    <li>\n      <DeckBrowserCustom />\n    </li>\n  </ul>\n</template>\n\n<style scoped>\n.categories {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n\n  & > li:not(:first-child) {\n    margin-block-start: 1em;\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport AppButton from \"../components/AppButton.vue\";\nimport DeckBrowser from \"../components/DeckBrowser.vue\";\nimport { decksRoute } from \"../router.ts\";\n</script>\n\n<template>\n  <article>\n    <header class=\"article-header\">\n      <h2 class=\"title\">Add Decks</h2>\n\n      <div class=\"actions\">\n        <AppButton :to=\"decksRoute\" prefix-icon=\"arrow-left\">\n          Back to your decks\n        </AppButton>\n      </div>\n    </header>\n\n    <DeckBrowser />\n  </article>\n</template>\n\n<style scoped>\n.article-header {\n  align-items: center;\n  display: flex;\n  margin-block-end: 1.5em;\n\n  & .title {\n    margin-block: 0;\n  }\n\n  & .actions {\n    margin-inline-start: auto;\n  }\n}\n</style>\n"],"names":["reduce","fn","init","items","acc","item","toArray","map","filter","p","unique","collection","label","_useModel","__props","priority","cards","kanji","computed","codePoint","value","pipe","isKanji","char","_createElementBlock","$emit","_createElementVNode","_hoisted_1","_createVNode","AppInput","$event","labelFieldDisabled","AppNumberInput","priorityFieldDisabled","AppTextArea","_hoisted_2","AppButton","_cache","confirmIcon","confirmLabel","emit","__emit","model","reactive","setDefaultPriority","customDeckCardCount","db","cursor","sum","length","handleSubmit","deck","createDeck","toRaw","onMounted","_createBlock","CustomDeckForm","props","handleClick","isActive","toggling","_Fragment","editDeck","ref","editing","labelId","useId","kanjiList","activate","activateDeck","error","deactivate","deactivateDeck","watch","path","text","CustomDeckEdit","_unref","_toDisplayString","template","_hoisted_3","DeckActivateButton","togglingCategory","removeDeck","_hoisted_4","_openBlock","_renderList","_component_RouterLink","kanjiRoute","creating","expanded","titleId","storedDecks","useLiveQuery","category","deckCount","activeDeckCount","active","deckTemplates","activateDeckCategory","deactivateDeckCategory","handleDeckCreated","title","DeckAcativateButton","CustomDeckCreate","DeckBrowserItem","name","DeckBrowserCategory","jlptDecks","jouyouDecks","newsFrequencyDecks","genkiDecks","basicKanjiDecks","DeckBrowserCustom","decksRoute","DeckBrowser"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}