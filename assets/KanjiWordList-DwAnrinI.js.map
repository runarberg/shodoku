{"version":3,"file":"KanjiWordList-DwAnrinI.js","sources":["../../src/components/KanjiStrokesGroup.vue","../../src/components/KanjiComponentItem.vue","../../src/components/KanjiComponents.vue","../../src/components/KanjiReadings.vue","../../src/components/KanjiStrokes.vue","../../src/components/KanjiTitle.vue","../../src/components/KanjiWordList.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { onMounted, ref, watch } from \"vue\";\n\nconst props = defineProps<{\n  strokes: SVGGElement;\n}>();\n\nconst container = ref<SVGGElement | null>(null);\n\nfunction render() {\n  container.value?.replaceChildren(props.strokes ?? \"\");\n}\n\nwatch(() => props.strokes, render);\n\nonMounted(() => {\n  render();\n});\n</script>\n\n<template>\n  <g ref=\"container\" class=\"kanji-strokes\" />\n</template>\n\n<style scoped>\n.kanji-strokes {\n  fill: none;\n  stroke: currentcolor;\n  stroke-width: 3px;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { computed, watchEffect } from \"vue\";\n\nimport { useKanjiComponent } from \"../helpers/kanji-components.ts\";\nimport { useKanjiVG, useKanjiVGViewBox } from \"../helpers/kanjivg.ts\";\nimport { kanjiComponentRoute } from \"../router.ts\";\nimport { KanjiComponent } from \"../types.ts\";\nimport KanjiStrokesGroup from \"./KanjiStrokesGroup.vue\";\n\nconst props = defineProps<{\n  literal: string;\n  original?: string | null;\n  parts: KanjiComponent[];\n}>();\n\nconst kanjiVG = useKanjiVG();\nconst viewBox = useKanjiVGViewBox();\n\nconst radical = computed(() => {\n  for (const part of props.parts) {\n    if (part.radical) {\n      return part.radical;\n    }\n  }\n\n  return null;\n});\n\nconst phonetic = computed(() => {\n  for (const part of props.parts) {\n    if (part.phon) {\n      return part.phon;\n    }\n  }\n\n  return null;\n});\n\nconst componentInfo = useKanjiComponent(() => props.literal);\nconst original = computed(() => props.parts.at(0)?.original);\nconst originalComponentInfo = useKanjiComponent(original);\n\nconst meaning = computed(\n  () =>\n    originalComponentInfo.value?.radical?.en ??\n    originalComponentInfo.value?.meaning ??\n    componentInfo.value?.radical?.en ??\n    componentInfo?.value?.meaning,\n);\n\nconst reading = computed(\n  () =>\n    originalComponentInfo.value?.radical?.jp ??\n    originalComponentInfo.value?.reading ??\n    componentInfo.value?.radical?.jp ??\n    componentInfo?.value?.reading,\n);\n\nconst radicalNumber = computed(\n  () =>\n    originalComponentInfo.value?.radical?.number ??\n    componentInfo.value?.radical?.number,\n);\n\nconst isCDPCodePoint = computed(() => props.literal.startsWith(\"CDP-\"));\n\n// These are exceptions from the kanjivg dataset. These are using the\n// characters from the radical unicode block instead of the CJK\n// codeblock as is usual. In these cases, the whole character is the\n// only one denoted with the CJK block while the parts are all from\n// the radical block.\n//\n// See: https://kanjivg.tagaini.net/radicals.html#other-radicals\nconst rogueCJKRadicalPairs = [\n  [\"\\u{5f50}\", \"\\u{2e95}\"],\n  [\"\\u{72ad}\", \"\\u{2ea8}\"],\n  [\"\\u{961d}\", \"\\u{2ed6}\"],\n];\nfunction replaceCJKRadical(literal: string): string {\n  for (const [cjkBlock, radicalBlock] of rogueCJKRadicalPairs) {\n    if (literal === cjkBlock) {\n      return radicalBlock;\n    }\n  }\n\n  return literal;\n}\n\nfunction accentColorOffset(deg: number): string {\n  return `oklch(from var(--accent-color) l c ${deg + 3})`;\n}\n\nwatchEffect(() => {\n  const strokes = kanjiVG.value;\n\n  if (!strokes) {\n    return;\n  }\n\n  if (\n    strokes.dataset.element === props.literal &&\n    (!props.original || props.original === strokes.dataset.original)\n  ) {\n    if (\n      strokes.dataset.radical === \"general\" ||\n      strokes.dataset.radical === \"tradit\"\n    ) {\n      strokes.style.color = \"var(--green)\";\n    } else if (\n      strokes.dataset.radical === \"nelson\" ||\n      strokes.dataset.radical === \"jis\"\n    ) {\n      strokes.style.color = \"var(--bluegreen)\";\n    } else if (strokes.dataset.phon === props.literal) {\n      strokes.style.color = \"var(--gold)\";\n    } else {\n      strokes.style.color = accentColorOffset(180);\n    }\n  }\n\n  let i = -1;\n  for (const group of strokes.querySelectorAll<SVGGElement>(\n    `g[data-element=\"${props.literal}\"]`,\n  )) {\n    if (props.original && props.original !== group.dataset.original) {\n      continue;\n    }\n\n    if (\n      group.dataset.radical === \"general\" ||\n      group.dataset.radical === \"tradit\"\n    ) {\n      group.style.color = \"var(--green)\";\n      continue;\n    }\n\n    if (group.dataset.radical === \"nelson\" || group.dataset.radical === \"jis\") {\n      group.style.color = \"var(--bluegreen)\";\n      continue;\n    }\n\n    if (group.dataset.phon) {\n      group.style.color = \"var(--gold)\";\n      continue;\n    }\n\n    if (!group.dataset.part || group.dataset.part === \"1\") {\n      i += 1;\n    }\n\n    group.style.color = accentColorOffset(240 + 63 * i);\n  }\n});\n</script>\n\n<template>\n  <RouterLink\n    :to=\"kanjiComponentRoute(replaceCJKRadical(literal))\"\n    class=\"kanji-component-item\"\n  >\n    <svg v-if=\"kanjiVG\" :viewBox=\"viewBox\" class=\"kanji-component-strokes\">\n      <KanjiStrokesGroup class=\"strokes-group\" :strokes=\"kanjiVG\" />\n    </svg>\n\n    <div class=\"component-info\">\n      <span v-if=\"!isCDPCodePoint\" class=\"literal\">{{ literal }}</span>\n\n      <p class=\"meaning\">\n        <strong>{{ meaning }}</strong>\n        <span v-if=\"original\" class=\"original\" lang=\"ja\"> {{ original }}</span>\n        <span v-if=\"reading\" lang=\"ja\"> ({{ reading }})</span>\n      </p>\n\n      <div class=\"tags\">\n        <span\n          v-if=\"radical\"\n          class=\"is-radical\"\n          :class=\"{\n            'is-nelson': radical === 'nelson',\n            'is-jis': radical === 'jis',\n          }\"\n        >\n          <template v-if=\"radical === 'nelson'\">Nelson radical</template>\n          <template v-else-if=\"radical === 'jis'\">JIS radical</template>\n          <template v-else>Radical</template>\n\n          <template v-if=\"radicalNumber\">&nbsp;{{ radicalNumber }}</template>\n        </span>\n\n        <span v-if=\"phonetic\" class=\"is-phonetic\">Phonetic</span>\n      </div>\n    </div>\n  </RouterLink>\n</template>\n\n<style scoped>\n.kanji-component-item {\n  color: inherit;\n  column-gap: 1em;\n  display: flex;\n  text-decoration: none;\n}\n\n.kanji-component-strokes {\n  background: var(--background-strong);\n  block-size: 5em;\n  border-radius: 1ex;\n  flex-shrink: 0;\n\n  & .strokes-group {\n    color: light-dark(var(--light-gray), var(--medium-dark-gray));\n  }\n}\n\n.component-info {\n  align-items: start;\n  align-self: center;\n  column-gap: 1em;\n  display: grid;\n  grid-template:\n    \"literal tags\" min-content\n    \"literal meaning\" 1fr;\n  justify-content: start;\n}\n\n.literal {\n  font-size: 3em;\n  font-weight: normal;\n  grid-area: literal;\n  line-height: 1em;\n}\n\n.meaning {\n  grid-area: meaning;\n  margin: 0;\n\n  & strong {\n    text-transform: capitalize;\n  }\n\n  & .original {\n    padding-inline-start: 1ex;\n  }\n}\n\n.tags {\n  column-gap: 0.5ex;\n  display: flex;\n  grid-area: tags;\n}\n\n.is-radical,\n.is-phonetic {\n  border-radius: 1ex;\n  color: var(--background-strong);\n  font-size: 0.6em;\n  font-weight: 600;\n  padding: 0.5ex 1ex;\n  justify-self: start;\n}\n\n.is-radical {\n  background: var(--green);\n\n  &.is-nelson,\n  &.is-jis {\n    background-color: var(--bluegreen);\n  }\n}\n\n.is-phonetic {\n  background: var(--gold);\n}\n</style>\n","<script setup lang=\"ts\">\nimport { ref, watch } from \"vue\";\nimport { pipe } from \"yta\";\nimport { groupBy } from \"yta/sync\";\n\nimport { useKanjiVGComponents } from \"../helpers/kanjivg.ts\";\nimport { KanjiComponent } from \"../types.ts\";\nimport AppButton from \"./AppButton.vue\";\nimport KanjiComponentItem from \"./KanjiComponentItem.vue\";\n\nconst MAX_SHOWN = 4;\n\nconst components = useKanjiVGComponents();\nconst showAll = ref(false);\n\ndefineProps<{\n  hide?: boolean;\n}>();\n\nfunction originals(\n  parts: KanjiComponent[],\n): Map<string | null, KanjiComponent[]> {\n  return pipe(\n    parts,\n    groupBy((part) => part.original || null),\n  );\n}\n\nwatch(components, () => {\n  showAll.value = false;\n});\n</script>\n\n<template>\n  <section>\n    <h2>\n      Components\n      <template v-if=\"!hide && components.size > 0\">\n        ({{ components.size }})\n      </template>\n    </h2>\n\n    <p v-if=\"hide\" class=\"hidden-info\">[hidden]</p>\n    <ul v-else class=\"component-list\">\n      <template v-for=\"([literal, partss], i) of components\" :key=\"literal\">\n        <template v-if=\"showAll || i < MAX_SHOWN\">\n          <li\n            v-for=\"[original, parts] of originals(partss)\"\n            :key=\"original ?? 0\"\n          >\n            <KanjiComponentItem\n              :literal=\"literal\"\n              :parts=\"parts\"\n              :original=\"original\"\n            />\n          </li>\n        </template>\n      </template>\n    </ul>\n\n    <AppButton\n      v-if=\"!hide && !showAll && components.size > MAX_SHOWN\"\n      class=\"show-more-button\"\n      inline\n      @click=\"showAll = true\"\n    >\n      show {{ components.size - MAX_SHOWN }} more\n    </AppButton>\n  </section>\n</template>\n\n<style scoped>\n.component-list {\n  display: grid;\n  gap: 1ex;\n  grid-template-columns: 1fr 1fr;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n\n  @media screen and (max-width: 60ch) {\n    display: flex;\n    flex-direction: column;\n  }\n}\n\nhidden-info {\n  color: var(--text-light);\n  font-weight: 500;\n}\n\n.show-more-button {\n  margin-block-start: 1em;\n  font-weight: normal;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { KanjiInfo } from \"../types.ts\";\n\ndefineProps<{\n  kanji: KanjiInfo;\n  hideReadings?: boolean;\n}>();\n</script>\n\n<template>\n  <section>\n    <h2>Readings</h2>\n\n    <dl class=\"kanji-readings\">\n      <dt>Kun</dt>\n      <div class=\"dd-items\" :data-blur=\"hideReadings ? true : null\">\n        <dd v-for=\"reading of kanji.kunYomi\" :key=\"reading\">\n          {{ reading }}\n        </dd>\n      </div>\n\n      <dt>On</dt>\n      <div class=\"dd-items\" :data-blur=\"hideReadings ? true : null\">\n        <dd v-for=\"reading of kanji.onYomi\" :key=\"reading\">\n          {{ reading }}\n        </dd>\n      </div>\n    </dl>\n  </section>\n</template>\n\n<style scoped>\n.kanji-readings {\n  gap: 1em;\n  display: grid;\n  grid-template-columns: max-content auto;\n\n  & dd,\n  & dt {\n    margin: 0;\n    padding-block: 0.2ex;\n  }\n\n  & dt {\n    font-weight: 600;\n  }\n\n  & dd {\n    background: oklch(from var(--background-strong) l c h / 0.6);\n    border-radius: 0.5ex;\n    padding-inline: 0.5ex;\n  }\n}\n\n.dd-items {\n  gap: 0.5ex 1ex;\n  display: flex;\n  flex-wrap: wrap;\n\n  &[data-blur] {\n    visibility: hidden;\n  }\n}\n</style>\n","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\n\nimport {\n  useKanjiVG,\n  useKanjiVGSyncing,\n  useKanjiVGViewBox,\n} from \"../helpers/kanjivg.ts\";\nimport StrokesFigure from \"./StrokesFigure.vue\";\n\ndefineProps<{\n  kanji: string;\n  autoHint?: boolean;\n  practiceMode?: boolean;\n}>();\n\ndefineEmits<{\n  practiceDone: [];\n}>();\n\nconst kanjiVG = useKanjiVG();\nconst viewBox = useKanjiVGViewBox();\nconst isKanjiVGSyncing = useKanjiVGSyncing();\n\nconst strokes = computed<[string[]]>(() => {\n  const result: string[] = [];\n  for (const path of kanjiVG.value?.querySelectorAll(\"path\") ?? []) {\n    const d = path.getAttribute(\"d\");\n    if (d) {\n      result.push(d);\n    }\n  }\n\n  return [result];\n});\n</script>\n\n<template>\n  <section>\n    <h2>\n      Strokes\n      <template\n        v-if=\"!practiceMode && !isKanjiVGSyncing && strokes[0].length > 0\"\n      >\n        ({{ strokes[0].length }})\n      </template>\n    </h2>\n\n    <StrokesFigure\n      v-if=\"strokes && !isKanjiVGSyncing\"\n      :view-box=\"viewBox\"\n      :char-strokes=\"strokes\"\n      :practice-mode=\"practiceMode\"\n      :auto-hint=\"autoHint\"\n      @practice-done=\"$emit('practiceDone')\"\n    />\n    <StrokesFigure\n      v-else-if=\"isKanjiVGSyncing\"\n      :char-strokes=\"[]\"\n      class=\"loading-container\"\n    />\n  </section>\n</template>\n","<script setup lang=\"ts\">\nimport { computed } from \"vue\";\n\nimport { deckLabel } from \"../helpers/decks.ts\";\nimport { useCardRetrievability } from \"../helpers/fsrs.ts\";\nimport { DECKS_ROUTE_NAME } from \"../router.ts\";\nimport { useDecksContainingCard } from \"../store/decks.ts\";\nimport { KanjiInfo } from \"../types.ts\";\nimport AppLabel from \"./AppLabel.vue\";\nimport CardRetrievabilityLabel from \"./CardRetrievabilityLabel.vue\";\n\nconst props = withDefaults(\n  defineProps<{\n    kanji: KanjiInfo;\n    hideLiteral?: boolean;\n    hideMeaning?: boolean;\n    actions?: \"explore\" | \"review\";\n  }>(),\n  {\n    hideLiteral: false,\n    hideMeaning: false,\n    actions: \"explore\",\n  },\n);\n\nconst freq = computed(() => {\n  const { freq: n } = props.kanji;\n\n  if (!n) {\n    return null;\n  }\n\n  if (n <= 50) {\n    return 50;\n  }\n\n  if (n <= 100) {\n    return 100;\n  }\n\n  if (n <= 200) {\n    return 200;\n  }\n\n  if (n <= 500) {\n    return 500;\n  }\n\n  if (n <= 1000) {\n    return 1000;\n  }\n\n  return null;\n});\n\nconst decks = useDecksContainingCard(() => props.kanji.codepoint);\nconst retrievability = useCardRetrievability(\n  () => props.kanji.codepoint,\n  [\"kanji-write\", \"kanji-read\"],\n);\n</script>\n\n<template>\n  <header class=\"kanji-title\">\n    <h2 v-show=\"!hideLiteral\" class=\"literal\" lang=\"ja\">\n      {{ kanji.literal }}\n    </h2>\n\n    <p v-show=\"!hideMeaning\" class=\"main-meaning meaning\">\n      <strong>{{ kanji.meanings?.at(0) }}</strong>\n    </p>\n\n    <aside class=\"labels\">\n      <AppLabel\n        v-if=\"freq && !decks.some(({ name }) => name === `news-top-${freq}`)\"\n        class=\"freq-label\"\n      >\n        Top {{ freq }}\n      </AppLabel>\n\n      <RouterLink\n        v-for=\"deck of decks\"\n        :key=\"deck.name\"\n        :to=\"{ name: DECKS_ROUTE_NAME, query: { deck: deck.name } }\"\n      >\n        <AppLabel class=\"deck-label\">{{ deckLabel(deck) }}</AppLabel>\n      </RouterLink>\n\n      <CardRetrievabilityLabel\n        :r=\"retrievability.get('kanji-write')\"\n        label=\"書\"\n      />\n\n      <CardRetrievabilityLabel\n        :r=\"retrievability.get('kanji-read')\"\n        label=\"読\"\n      />\n    </aside>\n\n    <ul\n      v-if=\"kanji.meanings?.length > 1\"\n      v-show=\"!hideMeaning\"\n      class=\"additional-meanings\"\n    >\n      <li\n        v-for=\"meaning of kanji.meanings.slice(1)\"\n        :key=\"meaning\"\n        class=\"meaning\"\n      >\n        {{ meaning }}\n      </li>\n    </ul>\n\n    <nav v-if=\"$slots.actions\" class=\"actions\">\n      <slot name=\"actions\" />\n    </nav>\n  </header>\n</template>\n\n<style scoped>\n.kanji-title {\n  column-gap: 1em;\n  display: grid;\n  grid-template:\n    \"literal meaning    labels     actions\"\n    \"literal additional additional .      \" 1fr\n    / min-content auto 1fr auto;\n\n  @media screen and (max-width: 75ch) {\n    grid-template:\n      \"literal labels     actions\"\n      \"literal meaning    .      \"\n      \"literal additional .      \"\n      / min-content 1fr;\n  }\n}\n\n.literal {\n  font-size: 5em;\n  font-weight: normal;\n  grid-area: literal;\n  line-height: 1em;\n  margin: 0;\n}\n\n.main-meaning {\n  font-size: 2em;\n  grid-area: meaning;\n  margin-block: 0;\n}\n\n.additional-meanings {\n  column-gap: 1em;\n  display: flex;\n  flex-wrap: wrap;\n  grid-area: additional;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.meaning {\n  text-transform: capitalize;\n}\n\n.labels {\n  align-content: start;\n  align-items: stretch;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5ex;\n  grid-area: labels;\n\n  & .freq-label {\n    background: var(--green);\n    color: var(--background-strong);\n  }\n\n  & .deck-label {\n    background: var(--blue);\n  }\n\n  & a {\n    color: var(--background-strong);\n    text-decoration: none;\n  }\n}\n\n.actions {\n  grid-area: actions;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { vIntersectionObserver } from \"@vueuse/components\";\nimport { computedAsync } from \"@vueuse/core\";\nimport { computed, ref, watch } from \"vue\";\n\nimport { db } from \"../db/index.ts\";\nimport { KanjiVocab } from \"../types.ts\";\nimport WordListItem from \"./WordListItem.vue\";\n\nconst PAGE_SIZE = 10;\n\nconst props = defineProps<{\n  kanjiVocab: KanjiVocab;\n  hideKanji?: boolean;\n  hideReading?: boolean;\n  hideMeaning?: boolean;\n}>();\n\nconst wordListsResult = computedAsync(async () => {\n  const { words } = props.kanjiVocab;\n  const bookmarked = [];\n  const rest = [];\n  const { store } = (await db).transaction(\"bookmarked-words\");\n  for (const word of words) {\n    if (await store.count(word)) {\n      bookmarked.push(word);\n    } else {\n      rest.push(word);\n    }\n  }\n\n  return { bookmarked, rest };\n}, null);\n\nconst pageLimit = ref(PAGE_SIZE);\nconst wordLists = computed(() => {\n  const limit = pageLimit.value;\n\n  if (wordListsResult.value) {\n    const { bookmarked, rest } = wordListsResult.value;\n    return [bookmarked, rest.slice(0, limit)];\n  }\n\n  return [props.kanjiVocab.words.slice(0, limit)];\n});\n\nfunction nextPage() {\n  pageLimit.value += PAGE_SIZE;\n}\n\nfunction handleNextPageIntersecting([\n  { isIntersecting },\n]: IntersectionObserverEntry[]) {\n  if (isIntersecting) {\n    nextPage();\n  }\n}\n\nwatch(\n  () => props.kanjiVocab.codepoint,\n  (newValue, oldValue) => {\n    if (newValue !== oldValue) {\n      pageLimit.value = PAGE_SIZE;\n    }\n  },\n);\n</script>\n\n<template>\n  <section>\n    <h2>Words ({{ kanjiVocab.words.length }})</h2>\n\n    <ul class=\"kanji-word-list\">\n      <template v-for=\"words of wordLists\">\n        <li v-for=\"word of words\" :key=\"word\">\n          <WordListItem\n            :word=\"word\"\n            :kanji=\"kanjiVocab.literal\"\n            :hide-kanji=\"hideKanji\"\n            :hide-reading=\"hideReading\"\n            :hide-meaning=\"hideMeaning\"\n          />\n        </li>\n      </template>\n    </ul>\n\n    <button\n      v-if=\"pageLimit < kanjiVocab.words.length\"\n      v-intersection-observer=\"handleNextPageIntersecting\"\n      class=\"next-page-button\"\n      @click=\"nextPage()\"\n    >\n      Load More\n    </button>\n  </section>\n</template>\n\n<style scoped>\n.kanji-word-list {\n  list-style: none;\n  padding: 0;\n}\n\n.next-page-button {\n  background: none;\n  border: none;\n  color: var(--accent-color);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 1em;\n  font-weight: 600;\n}\n</style>\n"],"names":["props","__props","container","ref","render","watch","onMounted","_createElementBlock","kanjiVG","useKanjiVG","viewBox","useKanjiVGViewBox","radical","computed","part","phonetic","componentInfo","useKanjiComponent","original","originalComponentInfo","meaning","reading","radicalNumber","isCDPCodePoint","rogueCJKRadicalPairs","replaceCJKRadical","literal","cjkBlock","radicalBlock","accentColorOffset","deg","watchEffect","strokes","i","group","_createBlock","_component_RouterLink","_unref","kanjiComponentRoute","_createVNode","KanjiStrokesGroup","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","_hoisted_4","_hoisted_5","_openBlock","_hoisted_6","_hoisted_7","_Fragment","_createTextVNode","_hoisted_8","MAX_SHOWN","components","useKanjiVGComponents","showAll","originals","parts","pipe","groupBy","_hoisted_1","partss","KanjiComponentItem","AppButton","_cache","_renderList","isKanjiVGSyncing","useKanjiVGSyncing","result","path","d","StrokesFigure","$emit","freq","n","decks","useDecksContainingCard","retrievability","useCardRetrievability","_withDirectives","name","AppLabel","deck","DECKS_ROUTE_NAME","deckLabel","CardRetrievabilityLabel","$slots","_renderSlot","_ctx","PAGE_SIZE","wordListsResult","computedAsync","words","bookmarked","rest","store","db","word","pageLimit","wordLists","limit","nextPage","handleNextPageIntersecting","isIntersecting","newValue","oldValue","WordListItem"],"mappings":"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"}