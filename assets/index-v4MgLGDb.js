import{u as q,B as Q,I as H,l as A,J as V,m as x,K as X,L as Z,G as ee,M as te,N as ne,O as re,P as G,s as ie,g as oe}from"./index-uL2dLKam.js";const C=1e3,F=60*C,T=60*F,S=24*T,M=7*S,_=29.53*S,P=365.2425*S,Fe=new Date(0);function Te(e=new Date){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function ae(e){const t=Math.abs(e);return t<1.5*F?{unit:"second",multiplier:C,value:e/C}:t<1.5*T?{unit:"minute",multiplier:F,value:e/F}:t<1.5*S?{unit:"hour",multiplier:T,value:e/T}:t<M?{unit:"day",multiplier:S,value:e/S}:t<_?{unit:"week",multiplier:M,value:e/M}:t<P?{unit:"month",multiplier:_,value:e/_}:{unit:"year",multiplier:P,value:e/P}}const ue=new Intl.RelativeTimeFormat("default",{numeric:"always",style:"short"});function De(e){const{unit:t,value:n}=ae(e);return ue.format(Math.round(n),t)}function Me(e){return new Promise(t=>{globalThis.setTimeout(t,e)})}function se(e){return X()?(Z(e),!0):!1}function W(e){return typeof e=="function"?e():q(e)}const _e={mounted:"mounted",updated:"updated",unmounted:"unmounted"},K=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Pe=e=>e!=null,le=Object.prototype.toString,ce=e=>le.call(e)==="[object Object]",R=()=>{},Ce=fe();function fe(){var e,t;return K&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function de(e,t){function n(...i){return new Promise((a,o)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(a).catch(o)})}return n}const Y=e=>e();function pe(e=Y){const t=A(!0);function n(){t.value=!1}function i(){t.value=!0}const a=(...o)=>{t.value&&e(...o)};return{isActive:V(t),pause:n,resume:i,eventFilter:a}}function we(e){return ee()}function We(...e){if(e.length!==1)return te(...e);const t=e[0];return typeof t=="function"?V(ne(()=>({get:t,set:R}))):A(t)}function ge(e,t,n={}){const{eventFilter:i=Y,...a}=n;return x(e,de(i,t),a)}function me(e,t,n={}){const{eventFilter:i,...a}=n,{eventFilter:o,pause:g,resume:h,isActive:m}=pe(i);return{stop:ge(e,t,{...a,eventFilter:o}),pause:g,resume:h,isActive:m}}function ve(e,t=!0,n){we()?Q(e,n):t?e():H(e)}function Re(e,t,n){let i;re(n)?i={evaluating:n}:i={};const{lazy:a=!1,evaluating:o=void 0,shallow:g=!0,onError:h=R}=i,m=A(!a),c=g?G(t):A(t);let s=0;return ie(async l=>{if(!m.value)return;s++;const p=s;let f=!1;o&&Promise.resolve().then(()=>{o.value=!0});try{const v=await e(w=>{l(()=>{o&&(o.value=!1),f||w()})});p===s&&(c.value=v)}catch(v){h(v)}finally{o&&p===s&&(o.value=!1),f=!0}}),a?oe(()=>(m.value=!0,c.value)):c}const D=K?window:void 0;function he(e){var t;const n=W(e);return(t=n==null?void 0:n.$el)!=null?t:n}function z(...e){let t,n,i,a;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,a]=e,t=D):[t,n,i,a]=e,!t)return R;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const o=[],g=()=>{o.forEach(s=>s()),o.length=0},h=(s,l,p,f)=>(s.addEventListener(l,p,f),()=>s.removeEventListener(l,p,f)),m=x(()=>[he(t),W(a)],([s,l])=>{if(g(),!s)return;const p=ce(l)?{...l}:l;o.push(...n.flatMap(f=>i.map(v=>h(s,f,v,p))))},{immediate:!0,flush:"post"}),c=()=>{m(),g()};return se(c),c}const O=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N="__vueuse_ssr_handlers__",ye=Se();function Se(){return N in O||(O[N]=O[N]||{}),O[N]}function be(e,t){return ye[e]||t}function Ae(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ee={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},L="vueuse-storage";function Oe(e,t,n,i={}){var a;const{flush:o="pre",deep:g=!0,listenToStorageChanges:h=!0,writeDefaults:m=!0,mergeDefaults:c=!1,shallow:s,window:l=D,eventFilter:p,onError:f=r=>{console.error(r)},initOnMounted:v}=i,w=(s?G:A)(typeof t=="function"?t():t);if(!n)try{n=be("getDefaultStorage",()=>{var r;return(r=D)==null?void 0:r.localStorage})()}catch(r){f(r)}if(!n)return w;const y=W(t),j=Ae(y),b=(a=i.serializer)!=null?a:Ee[j],{pause:B,resume:I}=me(w,()=>U(w.value),{flush:o,deep:g,eventFilter:p});l&&h&&ve(()=>{n instanceof Storage?z(l,"storage",E):z(l,L,k),v&&E()}),v||E();function J(r,u){if(l){const d={key:e,oldValue:r,newValue:u,storageArea:n};l.dispatchEvent(n instanceof Storage?new StorageEvent("storage",d):new CustomEvent(L,{detail:d}))}}function U(r){try{const u=n.getItem(e);if(r==null)J(u,null),n.removeItem(e);else{const d=b.write(r);u!==d&&(n.setItem(e,d),J(u,d))}}catch(u){f(u)}}function $(r){const u=r?r.newValue:n.getItem(e);if(u==null)return m&&y!=null&&n.setItem(e,b.write(y)),y;if(!r&&c){const d=b.read(u);return typeof c=="function"?c(d,y):j==="object"&&!Array.isArray(d)?{...y,...d}:d}else return typeof u!="string"?u:b.read(u)}function E(r){if(!(r&&r.storageArea!==n)){if(r&&r.key==null){w.value=y;return}if(!(r&&r.key!==e)){B();try{(r==null?void 0:r.newValue)!==b.write(w.value)&&(w.value=$(r))}catch(u){f(u)}finally{r?H(I):I()}}}}function k(r){E(r.detail)}return w}function je(e,t,n={}){const{window:i=D}=n;return Oe(e,t,i==null?void 0:i.localStorage,n)}export{Fe as E,R as a,se as b,We as c,_e as d,K as e,De as f,ce as g,Re as h,Ce as i,Te as m,Pe as n,Me as s,W as t,je as u};
