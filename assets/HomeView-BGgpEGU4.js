import{d as x,c as k,a as i,u as t,b as v,F as y,e as r,w as l,f as B,A as d,g as c,h as a,t as m,i as f,r as g,j as V,k as S,o,_ as A}from"./index-Q1_umh3Q.js";import{p as L,m as N}from"./index-Rivd63qk.js";import{u as h,a as F,f as T,n as j,i as D}from"./reviews-BizzoUBy.js";import{A as E}from"./AppLoading-CXITyrPP.js";import{_ as H}from"./RemoteSyncSyncButton.vue_vue_type_script_setup_true_lang-B7-lkteC.js";import{u as Y,d as z}from"./db-D0xdNwMV.js";import"./index-BH3SjzzP.js";function I(){return async w=>{let u=0;for await(const n of w)u+=1;return u}}const Q={key:0,class:"loading"},$={class:"home-nav"},q={key:0},G={key:1,class:"counts"},J={class:"due-count"},K={class:"new-count"},M={class:"learning-count"},O={class:"home-nav"},P=x({__name:"HomeView",setup(w){const u=S(),n=h(),p=k(()=>{const s=n.value;return s?s.due===0&&s.new===0&&s.learning===0:!1}),{result:_}=Y(async()=>L((await z).transaction("decks").store.iterate(),N(s=>s.value),T(s=>s.active),I())),C=F(),R=k(()=>C.value?.size??0);function b(){D(),u.push(g)}return(s,e)=>(o(),i("article",null,[t(_)===null?(o(),i("div",Q,[v(E,{class:"loading-icon"})])):t(_)===0?(o(),i(y,{key:1},[e[1]||(e[1]=r("p",null," You don’t have any active decks. Click the button below to select a deck and start learning new kanji. ",-1)),r("nav",$,[v(d,{to:t(B),filled:""},{default:l(()=>e[0]||(e[0]=[a("Select Decks")])),_:1,__:[0]},8,["to"])])],64)):(o(),i(y,{key:2},[p.value?(o(),i("p",q," Finished all reviews today. Click the buttons below to see summary or review extra. ")):t(n)?(o(),i("p",G,[e[2]||(e[2]=a(" You have ")),r("span",J,m(t(n).due)+" reviews",1),e[3]||(e[3]=a(" due ")),r("span",K,"(+ "+m(t(n).new)+" new)",1),e[4]||(e[4]=a(" and ")),r("span",M,m(t(n).learning)+" learning",1),e[5]||(e[5]=a(". "))])):c("",!0),r("nav",O,[p.value?c("",!0):(o(),f(d,{key:0,to:t(g),filled:""},{default:l(()=>e[6]||(e[6]=[a(" Start Review ")])),_:1,__:[6]},8,["to"])),R.value>0?(o(),f(d,{key:1,to:t(V)},{default:l(()=>e[7]||(e[7]=[a(" Today’s Summary ")])),_:1,__:[7]},8,["to"])):c("",!0),p.value?(o(),f(d,{key:2,onClick:b},{default:l(()=>[a(" Review "+m(t(j))+" Extra ",1)]),_:1})):c("",!0),v(H,{conditional:""})])],64))]))}}),oe=A(P,[["__scopeId","data-v-8a6b4c5f"]]);export{oe as default};
