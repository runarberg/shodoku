import{c as w,M as i,a3 as h,a4 as Y,a5 as y,C as k,a6 as O,a7 as x,N as A,a8 as B,a9 as I,aa as H,ab as W,ac as R,ad as T,u as X}from"./index-CvwMh420.js";const b=x?window:void 0;function m(e){var t;const o=i(e);return(t=o?.$el)!=null?t:o}function j(...e){const t=[],o=()=>{t.forEach(n=>n()),t.length=0},a=(n,l,u,r)=>(n.addEventListener(l,u,r),()=>n.removeEventListener(l,u,r)),s=w(()=>{const n=h(i(e[0])).filter(l=>l!=null);return n.every(l=>typeof l!="string")?n:void 0}),f=R(()=>{var n,l;return[(l=(n=s.value)==null?void 0:n.map(u=>m(u)))!=null?l:[b].filter(u=>u!=null),h(i(s.value?e[1]:e[0])),h(X(s.value?e[2]:e[1])),i(s.value?e[3]:e[2])]},([n,l,u,r])=>{if(o(),!n?.length||!l?.length||!u?.length)return;const c=T(r)?{...r}:r;t.push(...n.flatMap(M=>l.flatMap(p=>u.map(d=>a(M,p,d,c)))))},{flush:"post"}),v=()=>{f(),o()};return I(o),v}function P(){const e=y(!1),t=B();return t&&A(()=>{e.value=!0},t),e}function V(e){const t=P();return w(()=>(t.value,!!e()))}function D(e,t,o={}){const{root:a,rootMargin:s="0px",threshold:f=0,window:v=b,immediate:n=!0}=o,l=V(()=>v&&"IntersectionObserver"in v),u=w(()=>{const d=i(e);return h(d).map(m).filter(Y)});let r=O;const c=y(n),M=l.value?k(()=>[u.value,m(a),c.value],([d,N])=>{if(r(),!c.value||!d.length)return;const L=new IntersectionObserver(t,{root:m(N),rootMargin:s,threshold:f});d.forEach(S=>S&&L.observe(S)),r=()=>{L.disconnect(),r=O}},{immediate:n,flush:"post"}):O,p=()=>{r(),M(),c.value=!1};return I(p),{isSupported:l,isActive:c,pause(){r(),c.value=!1},resume(){c.value=!0},stop:p}}function g(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const G={mounted(e,t){typeof t.value=="function"?D(e,t.value):D(e,...t.value)}};function C(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:C(o)}}function $(e){const t=e||window.event,o=t.target;return C(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const E=new WeakMap;function q(e,t=!1){const o=y(t);let a=null,s="";k(H(e),n=>{const l=g(i(n));if(l){const u=l;if(E.get(u)||E.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(s=u.style.overflow),u.style.overflow==="hidden")return o.value=!0;if(o.value)return u.style.overflow="hidden"}},{immediate:!0});const f=()=>{const n=g(i(e));!n||o.value||(W&&(a=j(n,"touchmove",l=>{$(l)},{passive:!1})),n.style.overflow="hidden",o.value=!0)},v=()=>{const n=g(i(e));!n||!o.value||(W&&a?.(),n.style.overflow=s,E.delete(n),o.value=!1)};return I(v),w({get(){return o.value},set(n){n?f():v()}})}function z(){let e=!1;const t=y(!1);return(o,a)=>{if(t.value=a.value,e)return;e=!0;const s=q(o,a.value);k(t,f=>s.value=f)}}z();export{G as v};
