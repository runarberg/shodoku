{"version":3,"file":"KanjiComponentView-CgFxckKp.js","sources":["../../src/components/KanjiComponentKanjiList.vue","../../src/components/KanjiComponentVariationList.vue","../../src/views/KanjiComponentView.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { vIntersectionObserver } from \"@vueuse/components\";\nimport { ref, watch } from \"vue\";\n\nimport WordKanjiListItem from \"./WordKanjiListItem.vue\";\n\nconst props = defineProps<{\n  kanjiLiterals: string[];\n}>();\n\nconst PAGE_SIZE = 40;\n\nconst pageLimit = ref(PAGE_SIZE);\n\nfunction nextPage() {\n  pageLimit.value += PAGE_SIZE;\n}\n\nfunction handleNextPageIntersecting([\n  { isIntersecting },\n]: IntersectionObserverEntry[]) {\n  if (isIntersecting) {\n    nextPage();\n  }\n}\n\nwatch(\n  () => props.kanjiLiterals,\n  (newValue, oldValue) => {\n    if (newValue !== oldValue) {\n      pageLimit.value = PAGE_SIZE;\n    }\n  },\n);\n</script>\n\n<template>\n  <section>\n    <h2>\n      Found in Kanji\n      <template v-if=\"kanjiLiterals.length > 0\">\n        ({{ kanjiLiterals.length }})\n      </template>\n    </h2>\n\n    <ul v-if=\"kanjiLiterals.length > 0\" class=\"component-list\">\n      <li v-for=\"kanji of kanjiLiterals.slice(0, pageLimit)\" :key=\"kanji\">\n        <WordKanjiListItem :kanji=\"kanji\" />\n      </li>\n    </ul>\n\n    <button\n      v-if=\"pageLimit < kanjiLiterals.length\"\n      v-intersection-observer=\"handleNextPageIntersecting\"\n      class=\"next-page-button\"\n      @click=\"nextPage()\"\n    >\n      Load More\n    </button>\n  </section>\n</template>\n\n<style scoped>\n.component-list {\n  display: grid;\n  gap: 1ex;\n  grid-template-columns: 1fr 1fr;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n\n  @media screen and (max-width: 60ch) {\n    display: flex;\n    flex-direction: column;\n  }\n}\n\n.next-page-button {\n  background: none;\n  border: none;\n  color: var(--accent-color);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 1em;\n  font-weight: 600;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { kanjiComponentRoute } from \"../router.ts\";\n\ndefineProps<{\n  literals: string[];\n}>();\n</script>\n\n<template>\n  <ul class=\"component-list\">\n    <li v-for=\"literal of literals\" :key=\"literal\">\n      <RouterLink :to=\"kanjiComponentRoute(literal)\" class=\"literal\">\n        {{ literal }}\n      </RouterLink>\n    </li>\n  </ul>\n</template>\n\n<style scoped>\n.component-list {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1ex;\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n.literal {\n  align-items: center;\n  aspect-ratio: 1;\n  border: 1px solid var(--bluegreen);\n  border-radius: 0.2ex;\n  background: var(--background-strong);\n  color: var(--bluegreen);\n  display: flex;\n  flex-shrink: 0;\n  font-size: 1.2em;\n  line-height: 1;\n  justify-content: center;\n  padding: 0.5ex;\n  text-decoration: none;\n}\n</style>\n","<script setup lang=\"ts\" Ì£>\nimport { computed } from \"vue\";\nimport { useRoute } from \"vue-router\";\n\nimport KanjiComponentKanjiList from \"../components/KanjiComponentKanjiList.vue\";\nimport KanjiComponentVariationList from \"../components/KanjiComponentVariationList.vue\";\nimport { useKanjiComponent } from \"../helpers/kanji-components.ts\";\n\nconst route = useRoute();\nconst kanjiComponentLiteral = computed(() => {\n  if (typeof route.params.kanjiComponent !== \"string\") {\n    return null;\n  }\n\n  return route.params.kanjiComponent;\n});\n\nconst componentInfo = useKanjiComponent(kanjiComponentLiteral);\nconst radical = computed(() => componentInfo.value?.radical);\nconst kanjiLiterals = computed(() =>\n  Object.values(componentInfo.value?.kanji ?? {}).flat(),\n);\n</script>\n\n<template>\n  <article>\n    <header class=\"header\">\n      <h1 class=\"title literal\">\n        <span lang=\"ja\">{{ kanjiComponentLiteral }}</span>\n      </h1>\n\n      <p class=\"info\">\n        <span class=\"info-title\">\n          <template v-if=\"radical\">Radical no. {{ radical.number }}</template>\n          <template v-else>Kanji Component</template>\n        </span>\n        <strong class=\"meaning\">{{\n          radical?.en ?? componentInfo?.meaning\n        }}</strong>\n        <span v-if=\"componentInfo?.reading\" class=\"reading\" lang=\"ja\">\n          {{ radical?.jp ?? componentInfo.reading }}</span\n        >\n      </p>\n    </header>\n\n    <section v-if=\"componentInfo?.variationOf\">\n      <h2>\n        Original\n        <template v-if=\"componentInfo.variationOf.length > 1\">\n          &nbsp;({{ componentInfo.variationOf.length }})\n        </template>\n      </h2>\n\n      <KanjiComponentVariationList :literals=\"componentInfo.variationOf\" />\n    </section>\n\n    <section v-if=\"componentInfo?.variations\">\n      <h2>\n        Variation\n        <template v-if=\"componentInfo.variations.length > 1\">\n          &nbsp;({{ componentInfo.variations.length }})\n        </template>\n      </h2>\n\n      <KanjiComponentVariationList :literals=\"componentInfo.variations\" />\n    </section>\n\n    <KanjiComponentKanjiList :kanji-literals=\"kanjiLiterals\" />\n  </article>\n</template>\n\n<style scoped>\n.header {\n  column-gap: 1em;\n  display: flex;\n}\n\n.title {\n  color: var(--bluegreen);\n  font-size: 5em;\n  font-weight: normal;\n  grid-area: literal;\n  line-height: 1em;\n  margin: 0;\n}\n\n.info {\n  align-items: start;\n  display: flex;\n  flex-flow: column;\n  margin: 0;\n\n  & .info-title {\n    font-weight: 500;\n    color: var(--bluegreen);\n  }\n\n  & .meaning {\n    text-transform: capitalize;\n    font-size: 1.5em;\n  }\n\n  & .reading {\n    font-weight: 500;\n    background: oklch(from var(--background-strong) l c h / 0.6);\n    border-radius: 0.5ex;\n    padding: 0.2ex 0.5ex;\n  }\n}\n</style>\n"],"names":["PAGE_SIZE","props","__props","pageLimit","ref","nextPage","handleNextPageIntersecting","isIntersecting","watch","newValue","oldValue","_createElementBlock","_createElementVNode","_Fragment","_createTextVNode","_toDisplayString","_openBlock","_hoisted_1","kanji","_createVNode","WordKanjiListItem","_renderList","literal","_component_RouterLink","_unref","kanjiComponentRoute","route","useRoute","kanjiComponentLiteral","computed","componentInfo","useKanjiComponent","radical","kanjiLiterals","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","KanjiComponentVariationList","_hoisted_9","KanjiComponentKanjiList"],"mappings":"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"}