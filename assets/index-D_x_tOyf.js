import{c as w,C as c,Y as h,Z as N,$ as y,z as k,a0 as g,a1 as x,E as A,a2 as B,a3 as I,a4 as H,a5 as W,a6 as R,a7 as T,u as X}from"./index-Q4noPGif.js";const b=x?window:void 0;function m(e){var t;const o=c(e);return(t=o?.$el)!=null?t:o}function $(...e){const t=[],o=()=>{t.forEach(n=>n()),t.length=0},a=(n,l,u,r)=>(n.addEventListener(l,u,r),()=>n.removeEventListener(l,u,r)),s=w(()=>{const n=h(c(e[0])).filter(l=>l!=null);return n.every(l=>typeof l!="string")?n:void 0}),f=R(()=>{var n,l;return[(l=(n=s.value)==null?void 0:n.map(u=>m(u)))!=null?l:[b].filter(u=>u!=null),h(c(s.value?e[1]:e[0])),h(X(s.value?e[2]:e[1])),c(s.value?e[3]:e[2])]},([n,l,u,r])=>{if(o(),!n?.length||!l?.length||!u?.length)return;const i=T(r)?{...r}:r;t.push(...n.flatMap(O=>l.flatMap(p=>u.map(d=>a(O,p,d,i)))))},{flush:"post"}),v=()=>{f(),o()};return I(o),v}function j(){const e=y(!1),t=B();return t&&A(()=>{e.value=!0},t),e}function z(e){const t=j();return w(()=>(t.value,!!e()))}function D(e,t,o={}){const{root:a,rootMargin:s="0px",threshold:f=0,window:v=b,immediate:n=!0}=o,l=z(()=>v&&"IntersectionObserver"in v),u=w(()=>{const d=c(e);return h(d).map(m).filter(N)});let r=g;const i=y(n),O=l.value?k(()=>[u.value,m(a),i.value],([d,Y])=>{if(r(),!i.value||!d.length)return;const L=new IntersectionObserver(t,{root:m(Y),rootMargin:s,threshold:f});d.forEach(S=>S&&L.observe(S)),r=()=>{L.disconnect(),r=g}},{immediate:n,flush:"post"}):g,p=()=>{r(),O(),i.value=!1};return I(p),{isSupported:l,isActive:i,pause(){r(),i.value=!1},resume(){i.value=!0},stop:p}}function E(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const F={mounted(e,t){typeof t.value=="function"?D(e,t.value):D(e,...t.value)}};function C(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const o=e.parentNode;return!o||o.tagName==="BODY"?!1:C(o)}}function P(e){const t=e||window.event,o=t.target;return C(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}const M=new WeakMap;function V(e,t=!1){const o=y(t);let a=null,s="";k(H(e),n=>{const l=E(c(n));if(l){const u=l;if(M.get(u)||M.set(u,u.style.overflow),u.style.overflow!=="hidden"&&(s=u.style.overflow),u.style.overflow==="hidden")return o.value=!0;if(o.value)return u.style.overflow="hidden"}},{immediate:!0});const f=()=>{const n=E(c(e));!n||o.value||(W&&(a=$(n,"touchmove",l=>{P(l)},{passive:!1})),n.style.overflow="hidden",o.value=!0)},v=()=>{const n=E(c(e));!n||!o.value||(W&&a?.(),n.style.overflow=s,M.delete(n),o.value=!1)};return I(v),w({get(){return o.value},set(n){n?f():v()}})}function Z(){let e=!1;const t=y(!1);return(o,a)=>{if(t.value=a.value,e)return;e=!0;const s=V(o,a.value);k(t,f=>s.value=f)}}Z();export{F as v};
