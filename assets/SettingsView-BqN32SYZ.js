import{d as S,M as G,N as $,a as f,q as z,I as K,e as u,Z as Y,$ as Z,u as c,L as J,a0 as x,h,t as q,o as d,_ as k,O as E,b as n,a1 as C,i as g,a2 as ee,w as v,a3 as te,l as Q,F as D,A as _,H as W,c as le,m as N,g as oe,P as se}from"./index-gkm2TMQe.js";import{a as O,c as ne,A as L,b as ae}from"./AppTextArea-D-za3st-.js";import{e as U,n as R,d as F}from"./reviews-D84XVVKd.js";import{P as A,r as P,j as M,k as w,l as H,n as T,o as I,q as B,u as ue,s as de}from"./index-CbYumIFw.js";import{A as re}from"./AppLoading-D3ZrQC-U.js";import{_ as X}from"./RemoteSyncSyncButton.vue_vue_type_script_setup_true_lang-BJFAGnAP.js";import"./db-DOZG9NOu.js";import"./index-EEqkjwK5.js";const ie=["id"],me=["for"],pe=S({inheritAttrs:!1,__name:"AppCheckbox",props:G({label:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const o=$(m,"modelValue"),l=J();return(e,i)=>(d(),f("div",{class:z(["app-checkbox",[e.$attrs.class,e.$style.field]])},[K(u("input",Z({id:c(l),"onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r)},{...e.$attrs,class:void 0},{class:[e.$style.input,"input"],type:"checkbox"}),null,16,ie),[[Y,o.value]]),u("label",{for:c(l),class:z(e.$style.label)},[x(e.$slots,"label",{},()=>[h(q(e.label),1)])],10,me)],2))}}),fe="_field_1vfuc_2",ce="_label_1vfuc_8",ve="_input_1vfuc_12",ye={field:fe,label:ce,input:ve},be={$style:ye},he=k(pe,[["__cssModules",be]]),Se=S({__name:"PreferencesForm",setup(m){return(o,l)=>(d(),f("form",{class:"form-body",onSubmit:l[3]||(l[3]=E(()=>{},["prevent"]))},[n(O,{modelValue:c(U),"onUpdate:modelValue":l[0]||(l[0]=e=>C(U)?U.value=e:null),label:"Daily review limit",inline:""},null,8,["modelValue"]),n(O,{modelValue:c(R),"onUpdate:modelValue":l[1]||(l[1]=e=>C(R)?R.value=e:null),label:"Daily new limit",inline:""},null,8,["modelValue"]),n(he,{modelValue:c(F),"onUpdate:modelValue":l[2]||(l[2]=e=>C(F)?F.value=e:null),label:"Fuzz review times"},null,8,["modelValue"])],32))}}),Ve=k(Se,[["__scopeId","data-v-fd40732d"]]),$e=["id"],_e=S({__name:"AppSelect",props:G({label:{},inline:{type:Boolean},options:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const o=$(m,"modelValue"),l=J();return(e,i)=>(d(),g(ne,{control:c(l),label:e.label,inline:e.inline},ee({default:v(()=>[K(u("select",Z({id:c(l),"onUpdate:modelValue":i[0]||(i[0]=r=>o.value=r)},e.$attrs,{class:"select"}),[(d(!0),f(D,null,Q(e.options,r=>(d(),f("option",{key:r},q(r),1))),128))],16,$e),[[te,o.value]])]),_:2},[e.$slots.label?{name:"label",fn:v(()=>[x(e.$slots,"label",{},void 0,!0)]),key:"0"}:void 0,e.$slots.info?{name:"info",fn:v(()=>[x(e.$slots,"info",{},void 0,!0)]),key:"1"}:void 0]),1032,["control","label","inline"]))}}),ke=k(_e,[["__scopeId","data-v-09c22332"]]),ge={class:"header-list"},Ce=S({__name:"RemoteSyncSettingsFormHeadersField",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(m){const o=$(m,"modelValue");function l(r,s){o.value=o.value.with(r,s)}function e(r){o.value=o.value.toSpliced(r,1)}function i(){o.value=[...o.value,["",""]]}return(r,s)=>(d(),f("fieldset",null,[s[2]||(s[2]=u("legend",null,"Headers",-1)),u("ul",ge,[(d(!0),f(D,null,Q(o.value,([y,b],t)=>(d(),f("li",{key:t,class:"header-list-item"},[n(L,{"model-value":y,class:"key-field",label:"Key",onInput:a=>l(t,[a.target.value.toUpperCase(),b])},null,8,["model-value","onInput"]),n(L,{"model-value":b,class:"value-field",label:"Value",onInput:a=>l(t,[y,a.target.value])},null,8,["model-value","onInput"]),n(_,{type:"button",class:"remove-header-button",onClick:a=>e(t)},{default:v(()=>[n(W,{icon:"delete"})]),_:2},1032,["onClick"])]))),128))]),n(_,{class:"add-header-button",type:"button","prefix-icon":"plus",onClick:s[0]||(s[0]=y=>i())},{default:v(()=>s[1]||(s[1]=[h(" Add Header ")])),_:1,__:[1]})]))}}),Ue=k(Ce,[["__scopeId","data-v-2894d24a"]]),Re={class:"remote-sync-settings-form-section"},Fe=["textContent"],Ae=S({__name:"RemoteSyncSettingsFormSection",props:{method:{default:""},methodModifiers:{},url:{default:""},urlModifiers:{},headers:{default:[]},headersModifiers:{},body:{},bodyModifiers:{}},emits:["update:method","update:url","update:headers","update:body"],setup(m){const o=$(m,"method"),l=$(m,"url"),e=$(m,"headers"),i=$(m,"body"),r=["GET","POST","PATCH","PUT"],s=le(()=>["POST","PATCH","PUT"].includes(o.value)),y=`{
  "name": "shodoku_sync.json",
  "content", "${A}"
}`,b=N(!1);async function t(){b.value=!1,await navigator.clipboard.writeText(A),b.value=!0,setTimeout(()=>{b.value=!1},5e3)}return(a,p)=>(d(),f("div",Re,[n(ke,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=V=>o.value=V),options:r,label:"method",class:"method-field"},null,8,["modelValue"]),n(L,{modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=V=>l.value=V),type:"url",label:"URL",class:"url-field",required:""},null,8,["modelValue"]),n(Ue,{modelValue:e.value,"onUpdate:modelValue":p[2]||(p[2]=V=>e.value=V),class:"headers-field"},null,8,["modelValue"]),s.value?(d(),g(ae,{key:0,modelValue:i.value,"onUpdate:modelValue":p[3]||(p[3]=V=>i.value=V),label:"Body",class:"body-field",placeholder:y},{info:v(()=>[p[5]||(p[5]=h(" Use ")),u("code",{textContent:q(c(A))},null,8,Fe),n(_,{inline:"",type:"button",onClick:t},{default:v(()=>[p[4]||(p[4]=u("span",{class:"text"},"Copy ",-1)),n(W,{icon:b.value?"checkmark":"copy"},null,8,["icon"])]),_:1,__:[4]}),p[6]||(p[6]=h(" to interpolate database sync instructions. "))]),_:1},8,["modelValue"])):oe("",!0)]))}}),j=k(Ae,[["__scopeId","data-v-32461e31"]]),Pe={class:"remote-sync-form-section"},Me={class:"remote-sync-form-section"},we={class:"form-buttons"},He=S({__name:"RemoteSyncSettingsForm",emits:["cancel","success"],setup(m,{emit:o}){const l=o,e=se({fetch:{headers:B.value,method:I.value,url:T.value},push:{body:H.value,headers:w.value,method:M.value,url:P.value}}),i=N(null);function r(){B.value=e.fetch.headers,I.value=e.fetch.method,T.value=e.fetch.url,H.value=e.push.body,w.value=e.push.headers,M.value=e.push.method,P.value=e.push.url}async function s(){await i.value?.sync(),l("success")}function y(){e.fetch.headers=B.value,e.fetch.method=I.value,e.fetch.url=T.value,e.push.body=H.value,e.push.headers=w.value,e.push.method=M.value,e.push.url=P.value}return(b,t)=>(d(),f("form",{onSubmit:E(s,["prevent"]),onReset:E(y,["prevent"])},[t[12]||(t[12]=u("p",null," Set the below values to a remote which serves your sync document. This remote can be a GitHub gist, a google drive file, or your own server. The only requirement is that you have to be able to upload and retrieve a text document. ",-1)),u("section",Pe,[t[9]||(t[9]=u("h3",null,"Fetch",-1)),n(j,{method:e.fetch.method,"onUpdate:method":t[0]||(t[0]=a=>e.fetch.method=a),url:e.fetch.url,"onUpdate:url":t[1]||(t[1]=a=>e.fetch.url=a),headers:e.fetch.headers,"onUpdate:headers":t[2]||(t[2]=a=>e.fetch.headers=a)},null,8,["method","url","headers"])]),u("section",Me,[t[10]||(t[10]=u("h3",null,"Push",-1)),n(j,{method:e.push.method,"onUpdate:method":t[3]||(t[3]=a=>e.push.method=a),url:e.push.url,"onUpdate:url":t[4]||(t[4]=a=>e.push.url=a),headers:e.push.headers,"onUpdate:headers":t[5]||(t[5]=a=>e.push.headers=a),body:e.push.body,"onUpdate:body":t[6]||(t[6]=a=>e.push.body=a)},null,8,["method","url","headers","body"])]),u("div",we,[n(_,{type:"reset",onClick:t[7]||(t[7]=a=>b.$emit("cancel"))},{default:v(()=>t[11]||(t[11]=[h("Cancel")])),_:1,__:[11]}),n(X,{ref_key:"syncButton",ref:i,filled:"",onSyncing:r,onSuccess:t[8]||(t[8]=a=>b.$emit("success"))},null,512)])],32))}}),Te=k(He,[["__scopeId","data-v-83574976"]]),Ie={key:2,class:"buttons"},Be=S({__name:"RemoteSyncSettings",setup(m){const o=N(!1),{loading:l,result:e}=ue();function i(){o.value=!0}return(r,s)=>c(l)?(d(),g(re,{key:0})):o.value?(d(),g(Te,{key:1,onCancel:s[0]||(s[0]=y=>o.value=!1),onSuccess:s[1]||(s[1]=y=>o.value=!1)})):(d(),f("div",Ie,[c(e)?(d(),f(D,{key:0},[n(X,{filled:""}),n(_,{"prefix-icon":"edit",onClick:s[2]||(s[2]=y=>o.value=!0)},{default:v(()=>s[3]||(s[3]=[h(" Configure Remote ")])),_:1,__:[3]}),n(_,{inline:"","prefix-icon":"delete",onClick:c(de)},{default:v(()=>s[4]||(s[4]=[h(" Disable Remote Sync ")])),_:1,__:[4]},8,["onClick"])],64)):(d(),g(_,{key:1,filled:"",onClick:i},{default:v(()=>s[5]||(s[5]=[h(" Enable Remote Sync ")])),_:1,__:[5]}))]))}}),xe=k(Be,[["__scopeId","data-v-279e48fc"]]),Ee={class:"settings-view"},Ke=S({__name:"SettingsView",setup(m){return(o,l)=>(d(),f("article",Ee,[u("section",null,[l[0]||(l[0]=u("h2",null,"Preferences",-1)),n(Ve)]),u("section",null,[l[1]||(l[1]=u("h2",null,"Remote Sync",-1)),n(xe)])]))}});export{Ke as default};
