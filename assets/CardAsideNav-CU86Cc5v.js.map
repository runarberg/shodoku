{"version":3,"file":"CardAsideNav-CU86Cc5v.js","sources":["../../src/components/CardAsideNav.vue"],"sourcesContent":["<script setup lang=\"ts\" generic=\"T extends number | string\">\nimport { computed, ref } from \"vue\";\n\nimport AppIcon from \"./AppIcon.vue\";\n\nconst props = defineProps<{\n  cardId: T;\n  deckCards: T[];\n}>();\n\nconst index = computed(() => props.deckCards.indexOf(props.cardId));\nconst start = computed(() => Math.max(0, index.value - 4));\nconst end = computed(() => Math.min(props.deckCards.length, index.value + 5));\n\nconst cards = computed(() => {\n  const { length } = props.deckCards;\n\n  if (length <= 9) {\n    return props.deckCards;\n  }\n\n  if (start.value === 0) {\n    return props.deckCards.slice(0, 9);\n  }\n\n  if (end.value === length) {\n    return props.deckCards.slice(length - 9);\n  }\n\n  return props.deckCards.slice(start.value, end.value);\n});\n\nconst expanded = ref(true);\n</script>\n\n<template>\n  <nav v-if=\"index !== -1\" class=\"card-aside-nav\">\n    <details\n      :open=\"expanded\"\n      class=\"nav-details\"\n      @toggle=\"expanded = ($event.target as HTMLDetailsElement).open\"\n    >\n      <summary>\n        <span class=\"label\"><slot name=\"label\" /></span>\n\n        <AppIcon v-if=\"expanded\" icon=\"chevron-down\" />\n        <AppIcon v-else icon=\"chevron-up\" />\n      </summary>\n\n      <ol v-if=\"expanded\" class=\"deck-index\">\n        <li v-for=\"id of cards\" :key=\"id\">\n          <slot name=\"card\" :card-id=\"id\" />\n        </li>\n      </ol>\n    </details>\n  </nav>\n</template>\n\n<style scoped>\n.card-aside-nav {\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n\n  @media screen and (max-width: 75ch) {\n    align-items: start;\n  }\n}\n\n.nav-details summary {\n  align-items: center;\n  display: flex;\n  color: var(--medium-gray);\n  cursor: pointer;\n  writing-mode: vertical-lr;\n\n  &::-webkit-details-marker {\n    display: none;\n  }\n\n  @media screen and (max-width: 75ch) {\n    writing-mode: horizontal-tb;\n  }\n}\n\n.label {\n  color: inherit;\n  text-decoration: none;\n}\n\n.deck-index {\n  align-items: center;\n  column-gap: 1ex;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  list-style: none;\n  margin-block: 1ex;\n  padding: 0;\n\n  @media screen and (max-width: 75ch) {\n    flex-direction: row;\n  }\n}\n\n:slotted(.link) {\n  border-radius: 0.4ex;\n  color: var(--accent-color);\n  font-weight: 400;\n  text-decoration: none;\n  padding: 0.25ex;\n  border: 1px solid transparent;\n}\n\n:slotted(.link.link-active) {\n  font-weight: 600;\n  background: var(--background-light);\n  border-color: currentColor;\n}\n</style>\n"],"names":["props","__props","index","computed","start","end","cards","length","expanded","ref","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","$event","_hoisted_3","_renderSlot","_ctx","_createBlock","AppIcon","_hoisted_4","_Fragment","_renderList","id"],"mappings":"gSAKA,MAAMA,EAAQC,EAKRC,EAAQC,EAAS,IAAMH,EAAM,UAAU,QAAQA,EAAM,MAAM,CAAC,EAC5DI,EAAQD,EAAS,IAAM,KAAK,IAAI,EAAGD,EAAM,MAAQ,CAAC,CAAC,EACnDG,EAAMF,EAAS,IAAM,KAAK,IAAIH,EAAM,UAAU,OAAQE,EAAM,MAAQ,CAAC,CAAC,EAEtEI,EAAQH,EAAS,IAAM,CAC3B,KAAM,CAAE,OAAAI,GAAWP,EAAM,UAEzB,OAAIO,GAAU,EACLP,EAAM,UAGXI,EAAM,QAAU,EACXJ,EAAM,UAAU,MAAM,EAAG,CAAC,EAG/BK,EAAI,QAAUE,EACTP,EAAM,UAAU,MAAMO,EAAS,CAAC,EAGlCP,EAAM,UAAU,MAAMI,EAAM,MAAOC,EAAI,KAAK,CACrD,CAAC,EAEKG,EAAWC,EAAI,EAAI,eAIZP,EAAA,QAAK,IAAhBQ,IAAAC,EAmBM,MAnBNC,EAmBM,CAlBJC,EAiBU,UAAA,CAhBP,KAAML,EAAA,MACP,MAAM,cACL,wBAAQA,EAAA,MAAYM,EAAO,OAA8B,KAAA,GAE1DD,EAKU,UAAA,KAAA,CAJRA,EAAgD,OAAhDE,EAAgD,CAA5BC,EAAqBC,EAAA,OAAA,OAAA,CAAA,GAE1BT,EAAA,WAAfU,EAA+CC,EAAA,OAAtB,KAAK,cAAA,SAC9BD,EAAoCC,EAAA,OAApB,KAAK,YAAA,MAGbX,EAAA,OAAVE,EAAA,EAAAC,EAIK,KAJLS,EAIK,QAHHT,EAEKU,EAAA,KAAAC,EAFYhB,EAAA,MAANiB,QAAXZ,EAEK,KAAA,CAFoB,IAAKY,GAAE,CAC9BP,EAAkCC,EAAA,OAAA,OAAA,CAAf,OAASM,EAAE,CAAA"}