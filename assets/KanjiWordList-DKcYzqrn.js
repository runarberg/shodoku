import{m as D,y as X,c as B,z as ae,B as be,C as je,d as R,D as $e,a as h,o as p,_ as G,p as Se,i as T,w as E,g as S,e as x,u as k,b as P,t as M,q as re,F as C,h as N,E as Ce,v as ve,l as Y,G as le,A as q,H as O,I as te,J as ie,K as Be}from"./index-CLUsYwP5.js";import{u as Pe}from"./radicals-CeomM8Ky.js";import{s as he}from"./reviews-sfrX3_Un.js";import{u as Ke}from"./index-ed5PeQn_.js";import{u as Ie,d as ke}from"./db-BazvF5w-.js";import{d as Me}from"./decks-CfOZF5PQ.js";import{a as Ae}from"./fsrs-DsV1x14T.js";import{f as de}from"./formats-CxjEYhKc.js";import{v as Ve}from"./index-BD3mXX1B.js";import{c as Ee}from"./index-eVDaGfEF.js";import{W as Le}from"./WordListItem-D5d5ozLf.js";const pe="http://kanjivg.tagaini.net",ee=Symbol("kanjivg"),De=new DOMParser;function Ne(e){const t=[];let n=e.closest("[data-position]");for(;n instanceof SVGElement;)t.push(n.dataset.position),n=n.parentElement?.closest("[data-position]")??null;return t}function an(e){const t=D(null),n=D(null),o=D(!1);X(()=>be(e),async r=>{if(r){o.value=!0;try{const u=await(await fetch(`/kanjivg/kanji/${r}.svg`)).text(),l=De.parseFromString(u,"image/svg+xml");if(l.documentElement instanceof SVGSVGElement){const{x:a,y:v,width:g,height:_}=l.documentElement.viewBox.baseVal;n.value=`${a},${v},${g},${_}`}const c=l.getElementById(`kvg:${r}`);if(c){for(const a of[...c?.querySelectorAll("*"),c])if(a instanceof SVGElement){for(const v of[...a.attributes])v.namespaceURI===pe&&(a.dataset[v.localName]=v.value,a.removeAttributeNS(pe,v.localName));a.removeAttribute("xmlns:kvg")}}t.value=c}finally{o.value=!1}}},{immediate:!0});const s=B(()=>{const r=t.value;if(!r)return new Map;const i=new Map,u={};function l(a){if(a.dataset.part&&Number.parseInt(a.dataset.part)>1)return;const v=a.dataset.element,g={element:v,original:a.dataset.original??null,position:Ne(a),radical:a.dataset.radical??null,phon:a.dataset.phon??null};let _=i.get(v);_?_.push(g):(_=[g],i.set(v,_)),g.radical&&(u[g.radical]=v)}r.dataset.radical&&l(r);for(const a of r.querySelectorAll("g[data-element]"))l(a);const c=new Map;for(const a of["general","tradit","nelson"]){const v=u[a],g=i.get(v);g&&(c.set(v,g),i.delete(v))}for(const[a,v]of i)c.set(a,v);return c});je(ee,{strokesEl:t,viewBox:n,components:s,syncing:o})}function ye(){const e=ae(ee,null);return B(()=>e?.strokesEl.value?.cloneNode(!0)??null)}function ge(){const e=ae(ee,null);return B(()=>e?.viewBox.value??"0,0,109,109")}function Re(){const e=ae(ee,null);return B(()=>e?.components.value??new Map)}function Ge(){const e=ae(ee,null);return B(()=>e?.syncing.value??!1)}const qe=R({__name:"KanjiStrokesGroup",props:{strokes:{}},setup(e){const t=e,n=D(null);function o(){n.value?.replaceChildren(t.strokes??"")}return X(()=>t.strokes,o),$e(()=>{o()}),(s,r)=>(p(),h("g",{ref_key:"container",ref:n,class:"kanji-strokes"},null,512))}}),_e=G(qe,[["__scopeId","data-v-53c78976"]]),Oe=["viewBox"],Te={class:"component-info"},ze={class:"literal"},Xe={class:"meaning"},Ye={key:0,lang:"ja"},He={class:"tags"},We={key:1,class:"is-phonetic"},Fe=R({__name:"KanjiComponentItem",props:{literal:{},parts:{}},setup(e){const t=e,n=ye(),o=ge(),s=B(()=>{for(const l of t.parts)if(l.radical)return l.radical;return null}),r=B(()=>{for(const l of t.parts)if(l.phon)return l.phon}),i=Pe(()=>t.literal);function u(l){return`oklch(from var(--accent-color) l c ${l+3})`}return Se(()=>{const l=n.value;if(!l)return;l.dataset.element===t.literal&&(l.dataset.radical==="general"||l.dataset.radical==="tradit"?l.style.color="var(--green)":l.dataset.radical==="nelson"||l.dataset.radical==="jis"?l.style.color="var(--bluegreen)":l.dataset.phon===t.literal?l.style.color="var(--gold)":l.style.color=u(180));let c=-1;for(const a of l.querySelectorAll(`g[data-element="${t.literal}"]`)){if(a.dataset.radical==="general"||a.dataset.radical==="tradit"){a.style.color="var(--green)";continue}if(a.dataset.radical==="nelson"||a.dataset.radical==="jis"){a.style.color="var(--bluegreen)";continue}if(a.dataset.phon){a.style.color="var(--gold)";continue}(!a.dataset.part||a.dataset.part==="1")&&(c+=1),a.style.color=u(240+63*c)}}),(l,c)=>{const a=ve("RouterLink");return p(),T(a,{to:k(Ce)(l.literal),class:"kanji-component-item"},{default:E(()=>[k(n)?(p(),h("svg",{key:0,viewBox:k(o),class:"kanji-component-strokes"},[P(_e,{class:"strokes-group",strokes:k(n)},null,8,["strokes"])],8,Oe)):S("",!0),x("div",Te,[x("span",ze,M(l.literal),1),x("p",Xe,[x("strong",null,M(k(i)?.meaning),1),k(i)?.reading?(p(),h("span",Ye," ("+M(k(i).reading)+")",1)):S("",!0)]),x("div",He,[s.value?(p(),h("span",{key:0,class:re(["is-radical",{"is-nelson":s.value==="nelson","is-jis":s.value==="jis"}])},[s.value==="nelson"?(p(),h(C,{key:0},[N("Nelson radical")],64)):s.value==="jis"?(p(),h(C,{key:1},[N("JIS radical")],64)):(p(),h(C,{key:2},[N("Radical")],64))],2)):S("",!0),r.value?(p(),h("span",We,"Phonetic")):S("",!0)])])]),_:1},8,["to"])}}}),Je=G(Fe,[["__scopeId","data-v-09a3422f"]]),Ue={class:"component-list"},Qe=R({__name:"KanjiComponents",setup(e){const t=Re();return(n,o)=>(p(),h("section",null,[x("h2",null,[o[0]||(o[0]=N(" Components ")),k(t).size>0?(p(),h(C,{key:0},[N(" ("+M(k(t).size)+")",1)],64)):S("",!0)]),x("ul",Ue,[(p(!0),h(C,null,Y(k(t),([s,r])=>(p(),h("li",{key:s},[P(Je,{literal:s,parts:r},null,8,["literal","parts"])]))),128))])]))}}),on=G(Qe,[["__scopeId","data-v-6768574a"]]),Ze={class:"kanji-readings"},et={class:"dd-items"},tt={class:"dd-items"},nt=R({__name:"KanjiReadings",props:{kanji:{}},setup(e){return(t,n)=>(p(),h("section",null,[n[2]||(n[2]=x("h2",null,"Readings",-1)),x("dl",Ze,[n[0]||(n[0]=x("dt",null,"Kun",-1)),x("div",et,[(p(!0),h(C,null,Y(t.kanji.kunYomi,o=>(p(),h("dd",null,M(o),1))),256))]),n[1]||(n[1]=x("dt",null,"On",-1)),x("div",tt,[(p(!0),h(C,null,Y(t.kanji.onYomi,o=>(p(),h("dd",null,M(o),1))),256))])])]))}}),sn=G(nt,[["__scopeId","data-v-f6c59d96"]]),at={class:"kanji-strokes-background"},ot=["x","y","width","height"],st=["x1","y1","x2","y2"],it=["x1","y1","x2","y2"],rt=["x1","y1","x2","y2"],lt=["x1","y1","x2","y2"],ct=["x1","y1","x2","y2"],ut=["x1","y1","x2","y2"],dt=R({__name:"KanjiStrokesBackground",props:{viewBox:{}},setup(e){const t=e,n=B(()=>{const[r,i,u,l]=t.viewBox.split(",");return{x:Number.parseInt(r),y:Number.parseInt(i),width:Number.parseInt(u),height:Number.parseInt(l)}}),o=B(()=>{const{x:r,width:i}=n.value;return r+i/2}),s=B(()=>{const{y:r,height:i}=n.value;return r+i/2});return(r,i)=>(p(),h("g",at,[x("rect",{class:"background",x:n.value.x,y:n.value.y,width:n.value.width,height:n.value.width,rx:"5"},null,8,ot),x("line",{class:"midline",x1:n.value.x+1,y1:s.value,x2:n.value.x+n.value.width-1,y2:s.value},null,8,st),x("line",{class:"midline",x1:o.value,y1:n.value.y+1,x2:o.value,y2:n.value.y+n.value.height-1},null,8,it),x("line",{class:"quartline",x1:o.value/2,y1:n.value.y+1,x2:o.value/2,y2:n.value.y+n.value.height-1},null,8,rt),x("line",{class:"quartline",x1:3*o.value/2,y1:n.value.y+1,x2:3*o.value/2,y2:n.value.y+n.value.height-1},null,8,lt),x("line",{class:"quartline",x1:n.value.x+1,y1:s.value/2,x2:n.value.x+n.value.width-1,y2:s.value/2},null,8,ct),x("line",{class:"quartline",x1:n.value.x+1,y1:3*s.value/2,x2:n.value.x+n.value.width-1,y2:3*s.value/2},null,8,ut)]))}}),pt=G(dt,[["__scopeId","data-v-1b492e2c"]]),ft=1e-12,fe=112e-18,mt=e=>e>=-fe&&e<=fe,xe=(e,t)=>Math.sqrt(e*e+t*t),U=(e,t)=>({x:e,y:t}),vt=e=>xe(e.x,e.y),ht=e=>U(-e.x,-e.y),Z=(e,t)=>U(e.x+t.x,e.y+t.y),V=(e,t)=>U(e.x-t.x,e.y-t.y),W=(e,t)=>U(e.x*t,e.y*t),L=(e,t)=>e.x*t.x+e.y*t.y,ue=(e,t)=>xe(e.x-t.x,e.y-t.y),z=(e,t=1)=>W(e,t/(vt(e)||1/0)),we=(e,t)=>({p:e,i:t}),kt=(e,t,n)=>{t&&(e.unshift(e[e.length-1]),e.push(e[1]));const o=e.length;if(o===0)return[];const s=[we(e[0])];return ce(e,s,n,0,o-1,V(e[1],e[0]),V(e[o-2],e[o-1])),t&&(s.shift(),s.pop()),s},ce=(e,t,n,o,s,r,i)=>{if(s-o===1){const g=e[o],_=e[s],d=ue(g,_)/3;me(t,[g,Z(g,z(r,d)),Z(_,z(i,d)),_]);return}const u=xt(e,o,s);let l=Math.max(n,n*n),c,a=!0;for(let g=0;g<=4;g++){const _=yt(e,o,s,u,r,i),d=wt(e,o,s,_,u);if(d.error<n&&a){me(t,_);return}if(c=d.index,d.error>=l)break;a=gt(e,o,s,u,_),l=d.error}const v=V(e[c-1],e[c+1]);ce(e,t,n,o,c,r,v),ce(e,t,n,c,s,ht(v),i)},me=(e,t)=>{const n=e[e.length-1];n.o=V(t[1],t[0]),e.push(we(t[3],V(t[2],t[3])))},yt=(e,t,n,o,s,r)=>{const i=ft,u=Math.abs,l=e[t],c=e[n],a=[[0,0],[0,0]],v=[0,0];for(let b=0,I=n-t+1;b<I;b++){const A=o[b],H=1-A,F=3*A*H,oe=H*H*H,J=F*H,Q=F*A,se=A*A*A,y=z(s,J),m=z(r,Q),$=V(V(e[t+b],W(l,oe+J)),W(c,Q+se));a[0][0]+=L(y,y),a[0][1]+=L(y,m),a[1][0]=a[0][1],a[1][1]+=L(m,m),v[0]+=L(y,$),v[1]+=L(m,$)}const g=a[0][0]*a[1][1]-a[1][0]*a[0][1];let _,d;if(u(g)>i){const b=a[0][0]*v[1]-a[1][0]*v[0];_=(v[0]*a[1][1]-v[1]*a[0][1])/g,d=b/g}else{const b=a[0][0]+a[0][1],I=a[1][0]+a[1][1];_=d=u(b)>i?v[0]/b:u(I)>i?v[1]/I:0}const w=ue(c,l),K=i*w;let f,j;if(_<K||d<K)_=d=w/3;else{const b=V(c,l);f=z(s,_),j=z(r,d),L(f,b)-L(j,b)>w*w&&(_=d=w/3,f=j=null)}return[l,Z(l,f||z(s,_)),Z(c,j||z(r,d)),c]},gt=(e,t,n,o,s)=>{for(let r=t;r<=n;r++)o[r-t]=_t(s,e[r],o[r-t]);for(let r=1,i=o.length;r<i;r++)if(o[r]<=o[r-1])return!1;return!0},_t=(e,t,n)=>{const o=[],s=[];for(let a=0;a<=2;a++)o[a]=W(V(e[a+1],e[a]),3);for(let a=0;a<=1;a++)s[a]=W(V(o[a+1],o[a]),2);const r=ne(3,e,n),i=ne(2,o,n),u=ne(1,s,n),l=V(r,t),c=L(i,i)+L(l,u);return mt(c)?n:n-L(l,i)/c},ne=(e,t,n)=>{const o=t.slice();for(let s=1;s<=e;s++)for(let r=0;r<=e-s;r++)o[r]=Z(W(o[r],1-n),W(o[r+1],n));return o[0]},xt=(e,t,n)=>{const o=[0];for(let s=t+1;s<=n;s++)o[s-t]=o[s-t-1]+ue(e[s],e[s-1]);for(let s=1,r=n-t;s<=r;s++)o[s]/=o[r];return o},wt=(e,t,n,o,s)=>{let r=Math.floor((n-t+1)/2),i=0;for(let u=t+1;u<n;u++){const l=ne(3,o,s[u-t]),c=V(l,e[u]),a=c.x*c.x+c.y*c.y;a>=i&&(i=a,r=u)}return{error:i,index:r}},bt=(e,t,n)=>{const o=e.length,s=10**n,r=n<16?d=>Math.round(d*s)/s:d=>d,i=(d,w)=>r(d)+","+r(w);let u=!0,l,c,a,v;const g=[],_=(d,w)=>{const K=d.p.x,f=d.p.y;if(u)g.push("M"+i(K,f)),u=!1;else{const j=K+(d.i?.x??0),b=f+(d.i?.y??0);if(j===K&&b===f&&a===l&&v===c){if(!w){const I=K-l,A=f-c;g.push(I===0?"v"+r(A):A===0?"h"+r(I):"l"+i(I,A))}}else g.push("c"+i(a-l,v-c)+" "+i(j-l,b-c)+" "+i(K-l,f-c))}l=K,c=f,a=K+(d.o?.x??0),v=f+(d.o?.y??0)};if(!o)return"";for(let d=0;d<o;d++)_(e[d]);return t&&o>0&&(_(e[0],!0),g.push("z")),g.join("")},jt=(e,t={})=>e.length===0?"":bt(kt(e.map(typeof e[0].x=="number"?n=>U(n.x,n.y):n=>U(n[0],n[1])),t.closed,t.tolerance??2.5),t.closed,t.precision??5),$t=["x","y","width","height"],St={class:"practice-strokes"},Ct=["d"],Bt=["points"],Pt=R({__name:"KanjiStrokesPracticeCanvas",props:{practiceStrokes:{},animate:{type:Boolean},animatePause:{type:Boolean}},emits:["stroke"],setup(e,{emit:t}){const n=e,o=t,s=D(null),r=B(()=>s.value?.closest("svg")),i=B(()=>r.value?.viewBox.baseVal),u=le([]);function l(f){if(!r.value)return{x:f.x,y:f.y};const j=r.value.createSVGPoint();j.x=f.x,j.y=f.y;const b=j.matrixTransform(r.value.getScreenCTM()?.inverse());return{x:b.x,y:b.y}}function c(f){f.isPrimary&&(f.preventDefault(),s.value?.setPointerCapture(f.pointerId),u.push(l(f)))}function a(f){u.length===0||!f.isPrimary||u.push(l(f))}function v(f){f.isPrimary&&(u.length>1&&o("stroke",jt(u)),s.value?.releasePointerCapture(f.pointerId),u.splice(0,u.length),r.value?.parentElement?.click())}function g(f){const j=f.getTotalLength();return[{strokeDasharray:j,strokeDashoffset:j},{strokeDasharray:j,strokeDashoffset:0}]}const _={duration:500,easing:"ease-in-out"},d=[];function w(){if(s.value){for(const f of s.value?.querySelectorAll("path.stroke")){const j=f.animate(g(f),_);j.pause(),d.push(j)}K()}}async function K(){let f=d.at(0);for(;f;)f.play(),await f.finished,d.shift(),f=d.at(0),f&&await he(100)}return X(()=>n.animate,f=>{f&&w()}),X(()=>n.animatePause,f=>{f?d.at(0)?.pause():d.at(0)?.play()}),(f,j)=>(p(),h("g",{ref_key:"el",ref:s,class:"kanji-strokes-practice-canvas canvas",onPointerdown:c,onPointermove:a,onPointerup:v},[i.value?(p(),h("rect",{key:0,class:"background",x:i.value.x,y:i.value.y,width:i.value.width,height:i.value.height},null,8,$t)):S("",!0),x("g",St,[(p(!0),h(C,null,Y(f.practiceStrokes,(b,I)=>(p(),h("path",{class:"stroke practice-stroke",key:I,d:b},null,8,Ct))),128))]),x("polyline",{class:"stroke current-stroke",points:k(u).map(({x:b,y:I})=>`${b},${I}`).join(" ")},null,8,Bt)],544))}}),Kt=G(Pt,[["__scopeId","data-v-afa29600"]]),It={class:"strokes-figure"},Mt=["viewBox"],At={class:"controls"},Vt=R({__name:"KanjiStrokes",props:{kanji:{},autoHint:{type:Boolean,default:!1},practiceMode:{type:Boolean,default:!1}},emits:["practiceDone"],setup(e,{expose:t,emit:n}){const o=e,s=n,r=D(null),i=ye(),u=ge(),l=Ge(),c=B(()=>i.value?.querySelectorAll("path")??[]),a=le([]),v=B(()=>a.length>0),g=D(!1),_=D(!1),d=D(!1),w=le([]);function K(y){const m=y.getTotalLength();return[{strokeDasharray:m,strokeDashoffset:m},{strokeDasharray:m,strokeDashoffset:0}]}const f={duration:500,easing:"ease-in-out"};function j(){for(const y of c.value){const m=y.animate(K(y),f);m.pause(),a.push(m)}b()}async function b(){let y=a.at(0);for(;y;)y.play(),await y.finished,a.shift(),y=a.at(0),y&&await he(100)}function I(){a.at(0)?.pause(),g.value=!0}function A(){a.at(0)?.play(),g.value=!1}function H(){const y=c.value[w.length]?.getAttribute("d");y&&w.push(y)}function F(y=w.length){const m=c.value[y];if(!m)return;m.style.display="block";const $=m.animate(K(m),f);$.play(),$.finished.then(()=>{m.style.removeProperty("display")})}function oe(y){w.push(y),o.practiceMode&&w.length===c.value.length&&s("practiceDone"),o.practiceMode&&o.autoHint&&w.length<c.value.length&&F()}function J(){_.value=!1,w.splice(0,w.length)}function Q(){for(const y of a)y.cancel();a.splice(0,a.length),g.value=!1;for(const y of c.value)for(const m of y.getAnimations())m.cancel()}function se(){if(w.length===0){d.value=!1;return}w.length<c.value.length&&(_.value=!0)}return X(d,y=>{_.value=!1,y?Q():J()}),X(()=>o.autoHint,y=>{y&&requestAnimationFrame(async()=>{await Ke(l).toBe(!1),F(0)})},{immediate:!0}),X(()=>o.kanji.codepoint,(y,m)=>{y!==m&&(J(),Q(),_.value=!1,d.value!==o.practiceMode&&(d.value=o.practiceMode))},{immediate:!0}),t({clearPracticeStrokes:J,maybeShowAnswer:se}),(y,m)=>(p(),h("section",null,[x("h2",null,[m[10]||(m[10]=N(" Strokes ")),!y.practiceMode&&c.value.length>0?(p(),h(C,{key:0},[N(" ("+M(c.value.length)+") ",1)],64)):S("",!0)]),x("figure",It,[k(i)?(p(),h("svg",{key:0,ref_key:"svgEl",ref:r,class:re(["svg",{practicing:d.value}]),viewBox:k(u),onTouchstart:m[1]||(m[1]=$=>{d.value&&$.preventDefault()})},[P(pt,{viewBox:k(u)},null,8,["viewBox"]),P(_e,{strokes:k(i),class:re(["strokes",{comparing:v.value||_.value||c.value.length<=k(w).length,practicing:d.value}])},null,8,["strokes","class"]),d.value?(p(),T(Kt,{key:0,"practice-strokes":k(w),animate:v.value,"animate-pause":g.value,onStroke:m[0]||(m[0]=$=>oe($))},null,8,["practice-strokes","animate","animate-pause"])):S("",!0)],42,Mt)):S("",!0),x("figcaption",At,[v.value?(p(),h(C,{key:0},[g.value?(p(),T(q,{key:0,"aria-label":"Play",onClick:m[2]||(m[2]=$=>A())},{default:E(()=>[P(O,{icon:"play"})]),_:1})):(p(),T(q,{key:1,"aria-label":"Pause",onClick:m[3]||(m[3]=$=>I())},{default:E(()=>[P(O,{icon:"pause"})]),_:1}))],64)):(p(),h(C,{key:1},[d.value&&k(w).length<c.value.length?(p(),T(q,{key:0,"aria-label":"Show Hint",onClick:m[4]||(m[4]=$=>F())},{default:E(()=>[P(O,{icon:"help-circle"})]),_:1})):(p(),T(q,{key:1,"aria-label":"Animate Stroke Order",onClick:m[5]||(m[5]=$=>j())},{default:E(()=>[P(O,{icon:"play"})]),_:1}))],64)),y.practiceMode?S("",!0):(p(),T(q,{key:2,"aria-lable":"Practice Drawing","aria-pressed":`${d.value}`,filled:d.value,onClick:m[6]||(m[6]=$=>d.value=!d.value)},{default:E(()=>[P(O,{icon:"draw"})]),_:1},8,["aria-pressed","filled"])),d.value?(p(),h(C,{key:3},[m[11]||(m[11]=x("hr",{class:"rule"},null,-1)),P(q,{"aria-label":"Start Over",disabled:k(w).length===0,onClick:m[7]||(m[7]=$=>k(w).splice(0,k(w).length))},{default:E(()=>[P(O,{icon:"rotate-left"})]),_:1},8,["disabled"]),P(q,{"aria-label":"Skip Backward",disabled:k(w).length===0,onClick:m[8]||(m[8]=$=>k(w).pop())},{default:E(()=>[P(O,{icon:"skip-backward"})]),_:1},8,["disabled"]),P(q,{"aria-label":"Skip Backward",disabled:k(w).length===c.value.length,onClick:m[9]||(m[9]=$=>H())},{default:E(()=>[P(O,{icon:"skip-forward"})]),_:1},8,["disabled"])],64)):S("",!0)])])]))}}),rn=G(Vt,[["__scopeId","data-v-c1ee03ff"]]),Et={class:"kanji-title"},Lt={class:"main-meaning meaning"},Dt={class:"labels"},Nt={key:0,class:"label freq"},Rt=["data-r"],Gt=["data-r"],qt={key:0,class:"additional-meanings"},Ot={class:"meaning"},Tt=R({__name:"KanjiTitle",props:{kanji:{},hideLiteral:{type:Boolean},hideMeaning:{type:Boolean}},setup(e){const t=e,n=B(()=>{const{freq:i}=t.kanji;if(!i)return null;if(i<=50)return 50;if(i<=100)return 100;if(i<=200)return 200;if(i<=500)return 500;if(i<=1e3)return 1e3}),{result:o}=Ie(B(()=>{const i=t.kanji.codepoint;return async()=>(await ke).transaction("decks").store.index("cards").getAll(IDBKeyRange.only(i))})),s=Ae(()=>t.kanji.codepoint);function r(i){return i>.9?"good":i>.7?"fair":"poor"}return(i,u)=>{const l=ve("RouterLink");return p(),h("header",Et,[te(x("h2",{class:"literal",lang:"ja"},M(i.kanji.literal),513),[[ie,!i.hideLiteral]]),te(x("p",Lt,[x("strong",null,M(i.kanji.meanings?.at(0)),1)],512),[[ie,!i.hideMeaning]]),x("aside",Dt,[n.value&&!k(o)?.some(({name:c})=>c===`news-top-${n.value}`)?(p(),h("span",Nt," Top "+M(n.value),1)):S("",!0),k(o)?(p(!0),h(C,{key:1},Y(k(o),c=>(p(),T(l,{to:{name:k(Be),query:{deck:c.name}},key:c.name,class:"label deck"},{default:E(()=>[N(M(k(Me)(c)),1)]),_:2},1032,["to"]))),128)):S("",!0),k(s)?.write?(p(),h("span",{key:2,class:"label retrievability",title:"Writing Retrievability","data-r":r(k(s).write)}," 書 "+M(k(de)(k(s).write)),9,Rt)):S("",!0),k(s)?.read?(p(),h("span",{key:3,class:"label retrievability",title:"Reading Retrievability","data-r":r(k(s).read)}," 読 "+M(k(de)(k(s).read)),9,Gt)):S("",!0)]),i.kanji.meanings?.length>1?te((p(),h("ul",qt,[(p(!0),h(C,null,Y(i.kanji.meanings.slice(1),c=>(p(),h("li",Ot,M(c),1))),256))],512)),[[ie,!i.hideMeaning]]):S("",!0)])}}}),ln=G(Tt,[["__scopeId","data-v-0758661b"]]),zt={class:"kanji-word-list"},Xt=R({__name:"KanjiWordList",props:{kanjiVocab:{},hideKanji:{type:Boolean},hideReading:{type:Boolean},hideMeaning:{type:Boolean}},setup(e){const t=e,n=Ee(async()=>{const{words:u}=t.kanjiVocab,l=[],c=[],{store:a}=(await ke).transaction("bookmarked-words");for(const v of u)await a.count(v)?l.push(v):c.push(v);return{bookmarked:l,rest:c}},null),o=D(20),s=B(()=>{const u=o.value;if(n.value){const{bookmarked:l,rest:c}=n.value;return[l,c.slice(0,u)]}return[t.kanjiVocab.words.slice(0,u)]});function r(){o.value+=20}function i([{isIntersecting:u}]){u&&r()}return X(()=>t.kanjiVocab.codepoint,(u,l)=>{u!==l&&(o.value=20)}),(u,l)=>(p(),h("section",null,[x("h2",null,"Words ("+M(u.kanjiVocab.words.length)+")",1),x("ul",zt,[(p(!0),h(C,null,Y(s.value,c=>(p(),h(C,null,[(p(!0),h(C,null,Y(c,a=>(p(),h("li",{key:a},[P(Le,{word:a,kanji:u.kanjiVocab.literal,"hide-kanji":u.hideKanji,"hide-reading":u.hideReading,"hide-meaning":u.hideMeaning},null,8,["word","kanji","hide-kanji","hide-reading","hide-meaning"])]))),128))],64))),256))]),o.value<u.kanjiVocab.words.length?te((p(),h("button",{key:0,class:"next-page-button",onClick:l[0]||(l[0]=c=>r())},l[1]||(l[1]=[N(" Load More ")]))),[[k(Ve),i]]):S("",!0)]))}}),cn=G(Xt,[["__scopeId","data-v-db833710"]]);export{ln as K,sn as a,rn as b,on as c,cn as d,an as p};
